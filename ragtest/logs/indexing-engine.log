17:05:16,450 graphrag.cli.index INFO Logging enabled at /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/logs/indexing-engine.log
17:05:17,995 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:05:19,560 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:05:19,566 graphrag.cli.index INFO Starting pipeline run. dry_run=False
17:05:19,567 graphrag.cli.index INFO Using default configuration: {
    "root_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest",
    "models": {
        "default_chat_model": {
            "api_key": "==== REDACTED ====",
            "auth_type": "api_key",
            "type": "openai_chat",
            "model": "gpt-4-turbo-preview",
            "encoding_model": "cl100k_base",
            "max_tokens": 4000,
            "temperature": 0,
            "top_p": 1,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": null,
            "api_version": null,
            "deployment_name": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": true,
            "tokens_per_minute": 0,
            "requests_per_minute": 0,
            "retry_strategy": "native",
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "concurrent_requests": 25,
            "responses": null,
            "async_mode": "threaded"
        },
        "default_embedding_model": {
            "api_key": "==== REDACTED ====",
            "auth_type": "api_key",
            "type": "openai_embedding",
            "model": "text-embedding-3-small",
            "encoding_model": "cl100k_base",
            "max_tokens": 4000,
            "temperature": 0,
            "top_p": 1,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": null,
            "api_version": null,
            "deployment_name": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": true,
            "tokens_per_minute": 0,
            "requests_per_minute": 0,
            "retry_strategy": "native",
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "concurrent_requests": 25,
            "responses": null,
            "async_mode": "threaded"
        }
    },
    "reporting": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/logs",
        "storage_account_blob_url": null
    },
    "output": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "outputs": null,
    "update_index_output": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/update_output",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "cache": {
        "type": "file",
        "base_dir": "cache",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "input": {
        "type": "file",
        "file_type": "text",
        "base_dir": "input",
        "storage_account_blob_url": null,
        "encoding": "utf-8",
        "file_pattern": ".*\\.txt$",
        "file_filter": null,
        "text_column": "text",
        "title_column": null,
        "metadata": null
    },
    "embed_graph": {
        "enabled": false,
        "dimensions": 1536,
        "num_walks": 10,
        "walk_length": 40,
        "window_size": 2,
        "iterations": 3,
        "random_seed": 597832,
        "use_lcc": true
    },
    "embed_text": {
        "batch_size": 16,
        "batch_max_tokens": 8191,
        "target": "required",
        "names": [],
        "strategy": null,
        "model_id": "default_embedding_model",
        "vector_store_id": "default_vector_store"
    },
    "chunks": {
        "size": 1200,
        "overlap": 100,
        "group_by_columns": [
            "id"
        ],
        "strategy": "tokens",
        "encoding_model": "cl100k_base",
        "prepend_metadata": false,
        "chunk_size_includes_metadata": false
    },
    "snapshots": {
        "embeddings": false,
        "graphml": false
    },
    "extract_graph": {
        "prompt": "prompts/extract_graph.txt",
        "entity_types": [
            "organization",
            "person",
            "geo",
            "event"
        ],
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "extract_graph_nlp": {
        "normalize_edge_weights": true,
        "text_analyzer": {
            "extractor_type": "regex_english",
            "model_name": "en_core_web_md",
            "max_word_length": 15,
            "word_delimiter": " ",
            "include_named_entities": true,
            "exclude_nouns": null,
            "exclude_entity_tags": [
                "DATE"
            ],
            "exclude_pos_tags": [
                "DET",
                "PRON",
                "INTJ",
                "X"
            ],
            "noun_phrase_tags": [
                "PROPN",
                "NOUNS"
            ],
            "noun_phrase_grammars": {
                "PROPN,PROPN": "PROPN",
                "NOUN,NOUN": "NOUNS",
                "NOUNS,NOUN": "NOUNS",
                "ADJ,ADJ": "ADJ",
                "ADJ,NOUN": "NOUNS"
            }
        },
        "concurrent_requests": 25
    },
    "summarize_descriptions": {
        "prompt": "prompts/summarize_descriptions.txt",
        "max_length": 500,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "community_reports": {
        "graph_prompt": "prompts/community_report_graph.txt",
        "text_prompt": "prompts/community_report_text.txt",
        "max_length": 2000,
        "max_input_length": 8000,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "extract_claims": {
        "enabled": false,
        "prompt": "prompts/extract_claims.txt",
        "description": "Any claims or facts that could be relevant to information discovery.",
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "prune_graph": {
        "min_node_freq": 2,
        "max_node_freq_std": null,
        "min_node_degree": 1,
        "max_node_degree_std": null,
        "min_edge_weight_pct": 40,
        "remove_ego_nodes": false,
        "lcc_only": false
    },
    "cluster_graph": {
        "max_cluster_size": 10,
        "use_lcc": true,
        "seed": 3735928559
    },
    "umap": {
        "enabled": false
    },
    "local_search": {
        "prompt": "prompts/local_search_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "text_unit_prop": 0.5,
        "community_prop": 0.15,
        "conversation_history_max_turns": 5,
        "top_k_entities": 10,
        "top_k_relationships": 10,
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "llm_max_tokens": 2000
    },
    "global_search": {
        "map_prompt": "prompts/global_search_map_system_prompt.txt",
        "reduce_prompt": "prompts/global_search_reduce_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "knowledge_prompt": "prompts/global_search_knowledge_system_prompt.txt",
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "map_max_tokens": 1000,
        "reduce_max_tokens": 2000,
        "concurrency": 32,
        "dynamic_search_llm": "gpt-4o-mini",
        "dynamic_search_threshold": 1,
        "dynamic_search_keep_parent": false,
        "dynamic_search_num_repeats": 1,
        "dynamic_search_use_summary": false,
        "dynamic_search_concurrent_coroutines": 16,
        "dynamic_search_max_level": 2
    },
    "drift_search": {
        "prompt": "prompts/drift_search_system_prompt.txt",
        "reduce_prompt": "prompts/drift_search_reduce_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "reduce_max_tokens": 2000,
        "reduce_temperature": 0,
        "concurrency": 32,
        "drift_k_followups": 20,
        "primer_folds": 5,
        "primer_llm_max_tokens": 12000,
        "n_depth": 3,
        "local_search_text_unit_prop": 0.9,
        "local_search_community_prop": 0.1,
        "local_search_top_k_mapped_entities": 10,
        "local_search_top_k_relationships": 10,
        "local_search_max_data_tokens": 12000,
        "local_search_temperature": 0,
        "local_search_top_p": 1,
        "local_search_n": 1,
        "local_search_llm_max_gen_tokens": 4096
    },
    "basic_search": {
        "prompt": "prompts/basic_search_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "text_unit_prop": 0.5,
        "conversation_history_max_turns": 5,
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "llm_max_tokens": 2000
    },
    "vector_store": {
        "default_vector_store": {
            "type": "lancedb",
            "db_uri": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output/lancedb",
            "url": null,
            "audience": null,
            "container_name": "==== REDACTED ====",
            "database_name": null,
            "overwrite": true
        }
    },
    "workflows": null
}
17:05:19,567 graphrag.storage.file_pipeline_storage INFO Creating file storage at /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output
17:05:19,568 graphrag.index.input.factory INFO loading input from root_dir=input
17:05:19,568 graphrag.index.input.factory INFO using file storage for input
17:05:19,569 graphrag.storage.file_pipeline_storage INFO search /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/input for files matching .*\.txt$
17:05:19,572 graphrag.index.input.util INFO Found 2 InputFileType.text files, loading 2
17:05:19,572 graphrag.index.input.util INFO Total number of unfiltered InputFileType.text rows: 2
17:05:19,574 graphrag.index.run.run_pipeline INFO Final # of rows loaded: 2
17:05:19,589 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:05:19,640 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:05:19,643 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:05:19,671 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:05:20,672 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,673 openai._base_client INFO Retrying request to /chat/completions in 4.386000 seconds
17:05:20,674 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,674 openai._base_client INFO Retrying request to /chat/completions in 4.382000 seconds
17:05:20,692 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,693 openai._base_client INFO Retrying request to /chat/completions in 4.364000 seconds
17:05:20,886 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,894 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,899 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:20,900 openai._base_client INFO Retrying request to /chat/completions in 4.210000 seconds
17:05:20,900 openai._base_client INFO Retrying request to /chat/completions in 3.796000 seconds
17:05:20,900 openai._base_client INFO Retrying request to /chat/completions in 4.174000 seconds
17:05:21,858 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:21,859 openai._base_client INFO Retrying request to /chat/completions in 3.486000 seconds
17:05:21,868 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:21,870 openai._base_client INFO Retrying request to /chat/completions in 3.514000 seconds
17:05:25,355 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,357 openai._base_client INFO Retrying request to /chat/completions in 5.828000 seconds
17:05:25,452 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,454 openai._base_client INFO Retrying request to /chat/completions in 5.720000 seconds
17:05:25,658 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,659 openai._base_client INFO Retrying request to /chat/completions in 5.594000 seconds
17:05:25,659 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,659 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,660 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,660 openai._base_client INFO Retrying request to /chat/completions in 5.558000 seconds
17:05:25,660 openai._base_client INFO Retrying request to /chat/completions in 5.544000 seconds
17:05:25,660 openai._base_client INFO Retrying request to /chat/completions in 5.552000 seconds
17:05:25,978 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:25,981 openai._base_client INFO Retrying request to /chat/completions in 5.170000 seconds
17:05:31,620 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,622 openai._base_client INFO Retrying request to /chat/completions in 6.224000 seconds
17:05:31,622 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,623 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,623 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,623 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,624 openai._base_client INFO Retrying request to /chat/completions in 6.222000 seconds
17:05:31,624 openai._base_client INFO Retrying request to /chat/completions in 6.148000 seconds
17:05:31,624 openai._base_client INFO Retrying request to /chat/completions in 6.174000 seconds
17:05:31,625 openai._base_client INFO Retrying request to /chat/completions in 6.100000 seconds
17:05:31,647 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:31,649 openai._base_client INFO Retrying request to /chat/completions in 6.146000 seconds
17:05:38,452 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:38,452 openai._base_client INFO Retrying request to /chat/completions in 5.802000 seconds
17:05:38,453 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:38,453 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:38,454 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:38,454 openai._base_client INFO Retrying request to /chat/completions in 5.896000 seconds
17:05:38,454 openai._base_client INFO Retrying request to /chat/completions in 5.814000 seconds
17:05:38,454 openai._base_client INFO Retrying request to /chat/completions in 5.776000 seconds
17:05:38,491 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:38,492 openai._base_client INFO Retrying request to /chat/completions in 5.690000 seconds
17:05:44,517 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:44,518 openai._base_client INFO Retrying request to /chat/completions in 6.174000 seconds
17:05:44,726 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:44,727 openai._base_client INFO Retrying request to /chat/completions in 6.086000 seconds
17:05:44,728 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:44,728 openai._base_client INFO Retrying request to /chat/completions in 6.086000 seconds
17:05:45,409 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:45,411 openai._base_client INFO Retrying request to /chat/completions in 6.018000 seconds
17:05:49,813 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:05:50,237 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:50,240 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:05:51,23 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:51,25 openai._base_client INFO Retrying request to /chat/completions in 6.502000 seconds
17:05:51,274 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:51,275 openai._base_client INFO Retrying request to /chat/completions in 6.284000 seconds
17:05:51,310 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:51,311 openai._base_client INFO Retrying request to /chat/completions in 6.282000 seconds
17:05:51,777 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:51,778 openai._base_client INFO Retrying request to /chat/completions in 5.806000 seconds
17:05:54,396 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:05:54,888 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:54,897 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:05:57,854 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:57,856 openai._base_client INFO Retrying request to /chat/completions in 6.150000 seconds
17:05:58,123 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:58,125 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:58,127 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:58,128 openai._base_client INFO Retrying request to /chat/completions in 5.802000 seconds
17:05:58,129 openai._base_client INFO Retrying request to /chat/completions in 5.830000 seconds
17:05:58,130 openai._base_client INFO Retrying request to /chat/completions in 6.856000 seconds
17:05:58,168 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:05:58,169 openai._base_client INFO Retrying request to /chat/completions in 5.750000 seconds
17:06:02,285 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:02,286 openai._base_client INFO Retrying request to /chat/completions in 2.266000 seconds
17:06:02,355 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:02,622 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:02,623 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:04,355 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:04,356 openai._base_client INFO Retrying request to /chat/completions in 6.190000 seconds
17:06:04,383 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:04,385 openai._base_client INFO Retrying request to /chat/completions in 6.156000 seconds
17:06:04,413 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:04,414 openai._base_client INFO Retrying request to /chat/completions in 6.170000 seconds
17:06:04,424 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:04,425 openai._base_client INFO Retrying request to /chat/completions in 6.140000 seconds
17:06:05,184 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:05,185 openai._base_client INFO Retrying request to /chat/completions in 6.126000 seconds
17:06:05,439 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:05,440 openai._base_client INFO Retrying request to /chat/completions in 6.202000 seconds
17:06:06,755 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:06,973 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:07,29 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:07,32 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:07,553 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:07,555 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:10,612 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:10,612 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:11,143 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,144 openai._base_client INFO Retrying request to /chat/completions in 6.496000 seconds
17:06:11,147 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,148 openai._base_client INFO Retrying request to /chat/completions in 6.502000 seconds
17:06:11,152 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,153 openai._base_client INFO Retrying request to /chat/completions in 6.518000 seconds
17:06:11,158 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,159 openai._base_client INFO Retrying request to /chat/completions in 6.482000 seconds
17:06:11,711 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,712 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:11,995 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:11,997 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:12,520 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:12,790 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:12,792 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:13,49 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:13,344 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:13,345 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:14,621 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:14,893 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:14,895 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:15,147 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:15,149 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:15,426 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:15,428 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:17,242 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:17,540 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:17,543 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:18,22 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:18,22 openai._base_client INFO Retrying request to /chat/completions in 6.496000 seconds
17:06:18,36 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:18,37 openai._base_client INFO Retrying request to /chat/completions in 6.482000 seconds
17:06:18,291 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:18,293 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:18,294 openai._base_client INFO Retrying request to /chat/completions in 6.502000 seconds
17:06:18,295 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:18,816 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:18,818 openai._base_client INFO Retrying request to /chat/completions in 6.518000 seconds
17:06:19,33 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:19,108 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:19,109 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:19,341 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:19,343 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:06:20,49 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:20,50 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:21,98 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:21,99 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:21,712 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:21,958 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:21,959 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:22,199 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:22,200 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:06:23,8 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:23,8 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:23,227 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:23,227 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:23,313 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:23,314 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:24,877 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:24,888 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: (含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n######################\noutput:\n', 'kwargs': {}}
17:06:24,888 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 155, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3248. Please try again in 6.496s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:06:24,898 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理'}
17:06:24,906 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:24,910 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 2, 出差地.費用類別 = 香港(Hong Kong). 2, 高階主管及  總經理級以上主管.宿費 = 350. 2, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 2, 協理級(含)以下人員  宿費 雜費.宿費 = 280. 2, 協理級(含)以下人員  宿費 雜費.雜費 = 18. 3, 出差地.費用類別 = 菲律賓 (Philippines). 3, 高階主管及  總經理級以上主管.宿費 = 260. 3, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 3, 協理級(含)以下人員  宿費 雜費.宿費 = 210. 3, 協理級(含)以下人員  宿費 雜費.雜費 = 13. 4, 出差地.費用類別 = 泰國 (Thailand). 4, 高階主管及  總經理級以上主管.宿費 = 245. 4, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 4, 協理級(含)以下人員  宿費 雜費.宿費 = 200. 4, 協理級(含)以下人員  宿費 雜費.雜費 = 13. 5, 出差地.費用類別 = 馬來西亞 (Malaysia). 5, 高階主管及  總經理級以上主管.宿費 = 260. 5, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 5, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 5, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 6, 出差地.費用類別 = 尼 (Indonesia). 6, 高階主管及  總經理級以上主管.宿費 = 260. 6, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 6, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 6, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 7, 出差地.費用類別 = 緬甸 (Burma. 7, 高階主管及  總經理級以上主管.宿費 = 260. 7, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 7, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 7, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 8, 出差地.費用類別 = 越南 (Vietna. 8, 高階主管及  總經理級以上主管.宿費 = 240. 8, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 8, 協理級(含)以下人員  宿費 雜費.宿費 = 175. 8, 協理級(含)以下人員  宿費 雜費.雜費 = 9. 9, 出差地.費用類別 = (Laos). 9, 高階主管及  總經理級以上主管.�\n######################\noutput:\n', 'kwargs': {}}
17:06:24,910 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 155, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3241. Please try again in 6.482s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:06:24,915 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '2, 出差地.費用類別 = 香港(Hong Kong). 2, 高階主管及  總經理級以上主管.宿費 = 350. 2, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 2, 協理級(含)以下人員  宿費 雜費.宿費 = 280. 2, 協理級(含)以下人員  宿費 雜費.雜費 = 18. 3, 出差地.費用類別 = 菲律賓 (Philippines). 3, 高階主管及  總經理級以上主管.宿費 = 260. 3, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 3, 協理級(含)以下人員  宿費 雜費.宿費 = 210. 3, 協理級(含)以下人員  宿費 雜費.雜費 = 13. 4, 出差地.費用類別 = 泰國 (Thailand). 4, 高階主管及  總經理級以上主管.宿費 = 245. 4, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 4, 協理級(含)以下人員  宿費 雜費.宿費 = 200. 4, 協理級(含)以下人員  宿費 雜費.雜費 = 13. 5, 出差地.費用類別 = 馬來西亞 (Malaysia). 5, 高階主管及  總經理級以上主管.宿費 = 260. 5, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 5, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 5, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 6, 出差地.費用類別 = 尼 (Indonesia). 6, 高階主管及  總經理級以上主管.宿費 = 260. 6, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 6, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 6, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 7, 出差地.費用類別 = 緬甸 (Burma. 7, 高階主管及  總經理級以上主管.宿費 = 260. 7, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 7, 協理級(含)以下人員  宿費 雜費.宿費 = 190. 7, 協理級(含)以下人員  宿費 雜費.雜費 = 12. 8, 出差地.費用類別 = 越南 (Vietna. 8, 高階主管及  總經理級以上主管.宿費 = 240. 8, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 8, 協理級(含)以下人員  宿費 雜費.宿費 = 175. 8, 協理級(含)以下人員  宿費 雜費.雜費 = 9. 9, 出差地.費用類別 = (Laos). 9, 高階主管及  總經理級以上主管.�'}
17:06:25,109 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:25,116 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia),\n######################\noutput:\n', 'kwargs': {}}
17:06:25,116 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 155, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3251. Please try again in 6.502s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:06:25,125 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia),'}
17:06:25,458 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:25,459 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:25,628 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:25,631 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 310. 法國(France), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 德國(Germany), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 德國(Germany), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 德國(Germany), 高階主管.宿費 = 400. 德國(Germany), 高階主管.餐雜費 = 160. 德國(Germany), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 德國(Germany), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 荷蘭(Netherlands), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 荷蘭(Netherlands), 總經理級以上主管   宿費 餐雜費.餐雜費 = 130或檢據實支. 荷蘭(Netherlands), 高階主管.宿費 = 315. 荷蘭(Netherlands), 高階主管.餐雜費 = 130. 荷蘭(Netherlands), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 250. 荷蘭(Netherlands), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 110. 比利時(Belgium), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 比利時(Belgium), 總經理級以上主管   宿費 餐雜費.餐雜費 = 175或檢據實支. 比利時(Belgium), 高階主管.宿費 = 430. 比利時(Belgium), 高階主管.餐雜費 = 175. 比利時(Belgium), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 345. 比利時(Belgium), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 150. 盧森堡(Luxembourg), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 盧森堡(Luxembourg), 總經理級以上主管   宿費 餐雜費.餐雜費 = 190或檢據實支. 盧森堡(Luxembourg), 高階主管.宿費 = 470. 盧森堡(Luxembourg), 高階主管.餐雜費 = 190. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 =\n######################\noutput:\n', 'kwargs': {}}
17:06:25,631 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 155, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3259. Please try again in 6.518s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:06:25,635 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 310. 法國(France), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 德國(Germany), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 德國(Germany), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 德國(Germany), 高階主管.宿費 = 400. 德國(Germany), 高階主管.餐雜費 = 160. 德國(Germany), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 德國(Germany), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 荷蘭(Netherlands), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 荷蘭(Netherlands), 總經理級以上主管   宿費 餐雜費.餐雜費 = 130或檢據實支. 荷蘭(Netherlands), 高階主管.宿費 = 315. 荷蘭(Netherlands), 高階主管.餐雜費 = 130. 荷蘭(Netherlands), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 250. 荷蘭(Netherlands), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 110. 比利時(Belgium), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 比利時(Belgium), 總經理級以上主管   宿費 餐雜費.餐雜費 = 175或檢據實支. 比利時(Belgium), 高階主管.宿費 = 430. 比利時(Belgium), 高階主管.餐雜費 = 175. 比利時(Belgium), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 345. 比利時(Belgium), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 150. 盧森堡(Luxembourg), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 盧森堡(Luxembourg), 總經理級以上主管   宿費 餐雜費.餐雜費 = 190或檢據實支. 盧森堡(Luxembourg), 高階主管.宿費 = 470. 盧森堡(Luxembourg), 高階主管.餐雜費 = 190. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 ='}
17:06:25,676 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:25,676 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:26,490 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:26,491 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:27,432 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:27,434 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:06:27,977 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:27,979 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:29,314 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:29,316 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:29,830 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:30,98 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:30,99 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:06:30,348 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:06:30,350 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:30,350 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:06:30,586 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:30,587 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:30,609 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:30,609 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:06:31,214 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:31,216 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:31,217 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:31,217 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:31,453 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:31,455 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:33,53 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:33,54 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:33,571 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:33,573 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:33,898 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:33,899 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:35,617 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:35,618 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:06:36,142 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:36,143 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:37,564 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:37,565 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:38,580 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:38,581 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:06:38,581 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:38,581 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:06:39,107 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:39,109 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:39,110 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:39,111 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:39,645 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:39,650 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:39,651 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:39,652 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:06:39,652 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:39,653 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:40,445 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:40,448 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:41,911 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:41,914 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:41,915 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:41,916 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:43,814 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:43,815 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:06:44,37 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:44,39 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:45,637 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:45,638 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:46,708 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:46,710 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:06:47,186 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:47,187 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:47,214 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:47,215 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:06:47,713 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:47,715 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:47,729 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:47,731 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:47,755 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:47,756 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:48,10 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:48,11 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:48,254 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:48,258 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:06:49,326 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:49,328 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:49,818 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:49,820 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:51,909 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:51,910 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:06:51,919 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:51,921 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:06:53,966 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:53,968 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:06:54,845 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:54,848 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:06:55,60 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:55,61 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:06:55,572 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:55,573 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:06:55,667 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:55,667 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:06:55,876 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:55,877 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:06:55,908 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:55,909 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:06:56,398 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:56,400 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:06:56,708 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:56,710 openai._base_client INFO Retrying request to /chat/completions in 7.132000 seconds
17:06:56,927 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:56,929 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:06:57,726 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:57,727 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:06:59,775 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:06:59,776 openai._base_client INFO Retrying request to /chat/completions in 7.546000 seconds
17:07:00,84 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:00,86 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:07:02,210 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:02,213 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:07:02,945 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:02,946 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:07:02,963 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:02,964 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:07:03,42 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:03,44 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:07:03,989 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:03,990 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:07:04,86 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:04,93 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: �之. 科主管及相當職級, 全日雜費 = 每日 300 元. 科主管及相當職級, 宿費 = 元核支交通費。. 科主管及相當職級, 交通費 = 價格為上限。  2. 如自行開車者，依自  強號每公計. 其他人員, 全日雜費 = 每日 300 元. 其他人員, 宿費 = 元核支交通費。. 其他人員, 交通費 = 元核支交通費。  3. 搭乘計程車往返機場  或車站者，補貼計程  車 費 用 單 程 上 限  350 元，檢據實支。\n第八條(修(修訂及施行)\n備註：\n-、本公司員工於國內出差時應檢具實支，金額上限如前表；無法檢具實支者，則以 金額上限支給。\n二、本要點所稱「高階主管」係指部室主管(不含)以上，總經理(不含)以下之主管。\n三、員工出差如搭乘飛機或高鐵，可縮短時間、減少雜費與宿費而節省出差旅費時， 可逕行搭乘(高(高階主管以上人員檢據實支，部室主管級以下人員飛機限搭經濟艙、 高鐵限搭標準車廂)。\n四、括弧內金額為員工出差及住宿地為雙為雙北地區地區時之宿費核給標準。\n五、部室主管級以下人員隨同高階主管以上人員出差時，宿費得比照實支，但以投宿 同-飯店之較低標準房型為限。\n六、超過中午 12 點2 點得申請半日雜費、超過 18 點8 點則以全日計。\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>科主管及相當職級<|>角色<|>公司内部的一个职位级别，与全日雜費、宿費和交通費的规定相关联）\n##\n("entity"<|>其他人員<|>角色<|>公司内部的其他职位人员，与全日雜費、宿費和交通費的规定相关联）\n##\n("entity"<|>全日雜費<|>费用<|>员工出差时的日常费用，为每日300元）\n##\n("entity"<|>宿費<|>费用<|>员工出差时的住宿费用，需核支交通费）\n##\n("entity"<|>交通費<|>费用<|>员工出差时的交通费用，有上限价格）\n##\n("entity"<|>計程車費用<|>费用<|>搭乘计程车往返机场或车站的费用，单程上限350元，需檢據實支）\n##\n("entity"<|>高階主管<|>角色<|>指部室主管(不含)以上，總經理(不含)以下之主管）\n##\n("entity"<|>部室主管級以下人員<|>角色<|>指部室主管级别以下的员工）\n##\n("entity"<|>雙北地區<|>地点<|>员工出差及住宿地为雙北地区时的宿費核给标准）\n##\n("relationship"<|>科主管及相當職級<|>全日雜費<|>科主管及相当职级的全日杂费规定<|>5)\n##\n("relationship"<|>科主管及相當職級<|>宿費<|>科主管及相当职级的宿费规定<|>5)\n##\n("relationship"<|>科主管及相當職級<|>交通費<|>科主管及相当职级的交通费规定<|>5)\n##\n("relationship"<|>其他人員<|>全日雜費<|>其他人员的全日杂费规定<|>5)\n##\n("relationship"<|>其他人員<|>宿費<|>其他人员的宿费规定<|>5)\n##\n("relationship"<|>其他人員<|>交通費<|>其他人员的交通费规定<|>5)\n##\n("relationship"<|>高階主管<|>部室主管級以下人員<|>高階主管与部室主管级以下人员的定义及出差费用规定的区别<|>5)\n##\n("relationship"<|>部室主管級以下人員<|>雙北地區<|>部室主管级以下人员在双北地区出差的宿费核给标准<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:04,93 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3566. Please try again in 7.132s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:04,102 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '�之. 科主管及相當職級, 全日雜費 = 每日 300 元. 科主管及相當職級, 宿費 = 元核支交通費。. 科主管及相當職級, 交通費 = 價格為上限。  2. 如自行開車者，依自  強號每公計. 其他人員, 全日雜費 = 每日 300 元. 其他人員, 宿費 = 元核支交通費。. 其他人員, 交通費 = 元核支交通費。  3. 搭乘計程車往返機場  或車站者，補貼計程  車 費 用 單 程 上 限  350 元，檢據實支。\n第八條(修(修訂及施行)\n備註：\n-、本公司員工於國內出差時應檢具實支，金額上限如前表；無法檢具實支者，則以 金額上限支給。\n二、本要點所稱「高階主管」係指部室主管(不含)以上，總經理(不含)以下之主管。\n三、員工出差如搭乘飛機或高鐵，可縮短時間、減少雜費與宿費而節省出差旅費時， 可逕行搭乘(高(高階主管以上人員檢據實支，部室主管級以下人員飛機限搭經濟艙、 高鐵限搭標準車廂)。\n四、括弧內金額為員工出差及住宿地為雙為雙北地區地區時之宿費核給標準。\n五、部室主管級以下人員隨同高階主管以上人員出差時，宿費得比照實支，但以投宿 同-飯店之較低標準房型為限。\n六、超過中午 12 點2 點得申請半日雜費、超過 18 點8 點則以全日計。'}
17:07:04,360 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:04,362 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:07:04,363 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:04,365 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:07:05,17 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:05,20 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:07:05,545 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:05,547 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:07:06,32 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:06,34 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:07:08,135 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:08,142 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), 2 = 135或檢據實支. 澳大利亞(Australia), 3 = 330. 澳大利亞(Australia), 4 = 135. 澳大利亞(Australia), 5 = 265. 澳大利亞(Australia), 6 = 115. 紐西蘭(New Zealand), 1 = 檢據實支. 紐西蘭(New Zealand), 2 = 130或檢據實支. 紐西蘭(New Zealand), 3 = 320. 紐西蘭(New Zealand), 4 = 130. 紐西蘭(New Zealand), 5 = 255. 紐西蘭(New Zealand), 6 = 115. 大洋洲其他國家, 1 = 檢據實支. 大洋洲其他國家, 2 = 135或檢據實支. 大洋洲其他國家, 3 = 330. 大洋洲其他國家, 4 = 135. 大洋洲其他國家, 5 = 265. 大洋洲其他國家, 6 = 115. 非洲地區, 1 = . 非洲地區, 2 = . 非洲地區, 3 = . 非洲地區, 4 = . 非洲地區, 5 = . 非洲地區, 6 = . 南非共和國(South Africa Rep), 1 = 檢據實支. 南非共和國(South Africa Rep), 2 = 105或檢據實支. 南非共和國(South Africa Rep), 3 = 255. 南非共和國(South Africa Rep), 4 = 105. 南非共和國(South Africa Rep), 5 = 205. 南非共和國(South Africa Rep), 6 = 90. 非洲其他國家, 1 = 檢據實支. 非洲其他國家, 2 = 105或檢據實支. 非洲其他國家, 3 = 255. 非洲其他國家, 4 = 105. 非洲其他國家, 5 = 205. 非洲其他國家, 6 = 90\n註：\n1. 本要點所稱「高階主管」係指部室主管(不含)以上，總經理(不含)以下之主管。\n2. 長期出差(出差期間超過 1 個月)，自第 3 個月起，餐雜費依上述標準 4 折計算。\n3. 餐雜費結構比例為餐費、雜費各 50%；出差期間如供餐，依下列比例扣除：早、中、晚餐各 1/3。\n4. 參加國際會議時，如主辦單位指定住宿飯店超出本辦法標準，其宿費依該指定飯店之最之最低最低標準標準 核給。\n5. 部室主管(含(含)以下人員與高階主管(含(含)以上人員同行出國，宿費以投宿同-飯店較低標準之 房型為限，且費用不得超出同行主管宿費標準上限或實際申報額度孰低；餐雜費仍依原職級標級標 準核給。\n6. 出差地若有二處(含(含)以上並分屬不同等級城市或地區，依不同地點之停留期間分開計算。\n7. 匯率換算標準：\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜費信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜費的檢據實支相关联）\n##\n("entity"<|>紐西蘭(New Zealand)<|>地理位置<|>提及的一个国家，与宿费和餐雜費的檢據實支相关联）\n##\n("entity"<|>大洋洲其他國家<|>地理位置<|>泛指除澳大利亞和紐西蘭外的其他大洋洲国家，与宿费和餐雜費的檢據實支相关联）\n##\n("entity"<|>非洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜費信息）\n##\n("entity"<|>南非共和國(South Africa Rep)<|>地理位置<|>提及的一个国家，与宿费和餐雜費的檢據實支相关联）\n##\n("entity"<|>非洲其他國家<|>地理位置<|>泛指除南非共和國外的其他非洲国家，与宿费和餐雜費的檢據實支相关联）\n##\n("relationship"<|>大洋洲地區<|>澳大利亞(Australia)<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜費的檢據實支<|>8)\n##\n("relationship"<|>大洋洲地區<|>紐西蘭(New Zealand)<|>紐西蘭是大洋洲地区的一部分，提及了宿费和餐雜費的檢據實支<|>8)\n##\n("relationship"<|>大洋洲地區<|>大洋洲其他國家<|>大洋洲其他国家是大洋洲地区的一部分，提及了宿费和餐雜費的檢據實支<|>8)\n##\n("relationship"<|>非洲地區<|>南非共和國(South Africa Rep)<|>南非共和国是非洲地区的一部分，提及了宿费和餐雜費的檢據實支<|>8)\n##\n("relationship"<|>非洲地區<|>非洲其他國家<|>非洲其他国家是非洲地区的一部分，提及了宿费和餐雜費的檢據實支<|>8)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:08,143 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3773. Please try again in 7.546s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:08,150 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), 2 = 135或檢據實支. 澳大利亞(Australia), 3 = 330. 澳大利亞(Australia), 4 = 135. 澳大利亞(Australia), 5 = 265. 澳大利亞(Australia), 6 = 115. 紐西蘭(New Zealand), 1 = 檢據實支. 紐西蘭(New Zealand), 2 = 130或檢據實支. 紐西蘭(New Zealand), 3 = 320. 紐西蘭(New Zealand), 4 = 130. 紐西蘭(New Zealand), 5 = 255. 紐西蘭(New Zealand), 6 = 115. 大洋洲其他國家, 1 = 檢據實支. 大洋洲其他國家, 2 = 135或檢據實支. 大洋洲其他國家, 3 = 330. 大洋洲其他國家, 4 = 135. 大洋洲其他國家, 5 = 265. 大洋洲其他國家, 6 = 115. 非洲地區, 1 = . 非洲地區, 2 = . 非洲地區, 3 = . 非洲地區, 4 = . 非洲地區, 5 = . 非洲地區, 6 = . 南非共和國(South Africa Rep), 1 = 檢據實支. 南非共和國(South Africa Rep), 2 = 105或檢據實支. 南非共和國(South Africa Rep), 3 = 255. 南非共和國(South Africa Rep), 4 = 105. 南非共和國(South Africa Rep), 5 = 205. 南非共和國(South Africa Rep), 6 = 90. 非洲其他國家, 1 = 檢據實支. 非洲其他國家, 2 = 105或檢據實支. 非洲其他國家, 3 = 255. 非洲其他國家, 4 = 105. 非洲其他國家, 5 = 205. 非洲其他國家, 6 = 90\n註：\n1. 本要點所稱「高階主管」係指部室主管(不含)以上，總經理(不含)以下之主管。\n2. 長期出差(出差期間超過 1 個月)，自第 3 個月起，餐雜費依上述標準 4 折計算。\n3. 餐雜費結構比例為餐費、雜費各 50%；出差期間如供餐，依下列比例扣除：早、中、晚餐各 1/3。\n4. 參加國際會議時，如主辦單位指定住宿飯店超出本辦法標準，其宿費依該指定飯店之最之最低最低標準標準 核給。\n5. 部室主管(含(含)以下人員與高階主管(含(含)以上人員同行出國，宿費以投宿同-飯店較低標準之 房型為限，且費用不得超出同行主管宿費標準上限或實際申報額度孰低；餐雜費仍依原職級標級標 準核給。\n6. 出差地若有二處(含(含)以上並分屬不同等級城市或地區，依不同地點之停留期間分開計算。\n7. 匯率換算標準：'}
17:07:08,468 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:08,469 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:07:10,276 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:10,277 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:07:10,333 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:10,334 openai._base_client INFO Retrying request to /chat/completions in 7.124000 seconds
17:07:10,827 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:10,828 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:07:11,308 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:11,310 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:07:12,132 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:12,134 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:07:12,386 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:12,389 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:07:12,881 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:12,883 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:07:13,528 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:13,531 openai._base_client INFO Retrying request to /chat/completions in 8.268000 seconds
17:07:13,927 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:13,930 openai._base_client INFO Retrying request to /chat/completions in 7.660000 seconds
17:07:14,234 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:14,236 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:07:16,557 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:16,558 openai._base_client INFO Retrying request to /chat/completions in 7.750000 seconds
17:07:17,701 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:17,709 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: �  宿費 雜費.宿費 = 175. 8, 協理級(含)以下人員  宿費 雜費.雜費 = 9. 9, 出差地.費用類別 = (Laos). 9, 高階主管及  總經理級以上主管.宿費 = 240. 9, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 9, 協理級(含)以下人員  宿費 雜費.宿費 = 135. 9, 協理級(含)以下人員  宿費 雜費.雜費 = 8\n附表五、海外境內差旅 - 宿費及費及雜費標費標準\n註：\n1 . 海外子/孫公司於出差地點設有員工差旅宿舍者，以登記住宿員工差旅宿舍為原則，如因 宿舍額滿，應住宿海外子/孫公司福委會員工出差特約飯店，依合約價檢據報支宿費。\n2 . 協理級(含(含)以下人員受邀參加會議、論壇時，如主辦單位指定住宿飯店，其宿費依該指定 飯店之較低標準核給。\n3.協理級(含(含)以下人員隨同高同高階主管以上人員出差時，宿費得比照實支，但以投宿同-飯店之 較 較低標準房型為限。\n4.當.當日往返者僅支給交通費，不支給雜費。人員出差超過-日者，雜費按出差日數支給。\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>協理級以下人員<|>角色<|>公司内部的一个职位级别，与宿费和雜費的规定相关联>)\n##\n("entity"<|>高階主管及總經理級以上主管<|>角色<|>公司内部的高级职位级别，与宿费和雜費的规定相关联>)\n##\n("entity"<|>老挝(Laos)<|>地点<|>出差地点，与宿费和雜費的规定相关联>)\n##\n("entity"<|>海外子/孫公司差旅宿舍<|>地点<|>海外子/孫公司为员工提供的差旅宿舍，是员工出差时的首选住宿地点>)\n##\n("entity"<|>海外子/孫公司福委會員工出差特約飯店<|>地点<|>当差旅宿舍额满时，员工应住宿的特约饭店，依合约价报支宿费>)\n##\n("entity"<|>會議、論壇指定住宿飯店<|>地点<|>協理級(含)以下人员受邀参加会议、论坛时，主办单位指定的住宿饭店>)\n##\n("entity"<|>同一飯店的較低標準房型<|>地点<|>協理級(含)以下人员随同高级主管以上人员出差时，宿费得比照实支，但以投宿同一饭店的较低标准房型为限>)\n##\n("entity"<|>當日往返<|>活动<|>人员出差当日往返，仅支给交通费，不支给雜費>)\n##\n("entity"<|>出差超過一日<|>活动<|>人员出差超过一日时，雜費按出差日数支给>)\n##\n("relationship"<|>協理級以下人員<|>老挝(Laos)<|>老挝地区的協理級以下人员的宿费和雜費规定<|>5)\n##\n("relationship"<|>高階主管及總經理級以上主管<|>老挝(Laos)<|>老挝地区的高階主管及總經理級以上主管的宿费和雜費规定<|>5)\n##\n("relationship"<|>海外子/孫公司差旅宿舍<|>海外子/孫公司福委會員工出差特約飯店<|>当差旅宿舍额满时，员工应住宿的备选地点<|>8)\n##\n("relationship"<|>協理級以下人員<|>會議、論壇指定住宿飯店<|>協理級(含)以下人员受邀参加会议、论坛时的住宿规定<|>5)\n##\n("relationship"<|>協理級以下人員<|>同一飯店的較低標準房型<|>随同高级主管出差时的宿费规定<|>5)\n##\n("relationship"<|>當日往返<|>出差超過一日<|>出差日程对雜費支给的影响<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:17,709 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 30000, Requested 3562. Please try again in 7.124s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:17,716 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '�  宿費 雜費.宿費 = 175. 8, 協理級(含)以下人員  宿費 雜費.雜費 = 9. 9, 出差地.費用類別 = (Laos). 9, 高階主管及  總經理級以上主管.宿費 = 240. 9, 高階主管及  總經理級以上主管.雜費 = 檢據實支. 9, 協理級(含)以下人員  宿費 雜費.宿費 = 135. 9, 協理級(含)以下人員  宿費 雜費.雜費 = 8\n附表五、海外境內差旅 - 宿費及費及雜費標費標準\n註：\n1 . 海外子/孫公司於出差地點設有員工差旅宿舍者，以登記住宿員工差旅宿舍為原則，如因 宿舍額滿，應住宿海外子/孫公司福委會員工出差特約飯店，依合約價檢據報支宿費。\n2 . 協理級(含(含)以下人員受邀參加會議、論壇時，如主辦單位指定住宿飯店，其宿費依該指定 飯店之較低標準核給。\n3.協理級(含(含)以下人員隨同高同高階主管以上人員出差時，宿費得比照實支，但以投宿同-飯店之 較 較低標準房型為限。\n4.當.當日往返者僅支給交通費，不支給雜費。人員出差超過-日者，雜費按出差日數支給。'}
17:07:18,458 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:18,459 openai._base_client INFO Retrying request to /chat/completions in 7.823000 seconds
17:07:18,979 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:18,981 openai._base_client INFO Retrying request to /chat/completions in 7.622000 seconds
17:07:19,506 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:19,508 openai._base_client INFO Retrying request to /chat/completions in 7.883000 seconds
17:07:20,261 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:20,263 openai._base_client INFO Retrying request to /chat/completions in 7.786000 seconds
17:07:20,426 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:20,428 openai._base_client INFO Retrying request to /chat/completions in 7.780000 seconds
17:07:21,332 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:21,334 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:07:21,827 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:21,828 openai._base_client INFO Retrying request to /chat/completions in 7.322000 seconds
17:07:22,103 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:22,104 openai._base_client INFO Retrying request to /chat/completions in 7.715000 seconds
17:07:22,825 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:22,827 openai._base_client INFO Retrying request to /chat/completions in 7.012000 seconds
17:07:24,694 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:24,697 openai._base_client INFO Retrying request to /chat/completions in 4.702000 seconds
17:07:26,523 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:26,524 openai._base_client INFO Retrying request to /chat/completions in 2.822000 seconds
17:07:27,43 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:27,50 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: ；餐雜費仍依原職級標級標 準核給。\n6. 出差地若有二處(含(含)以上並分屬不同等級城市或地區，依不同地點之停留期間分開計算。\n7. 匯率換算標準：依出國前-星期內賣匯水單匯率或出國前-營業日國泰世華銀行換匯幣別 (現(現鈔)收盤賣出匯率計算。\n附表二：飛機艙別及其他交通工具搭乘標準\n註：\n附表二：飛機艙別及其他交通工具搭乘標準\n總經理(含)以上, 搭乘艙等 = 頭等或相當之座(艙)位. 高階主管, 搭乘艙等 = 商務或相當之座(艙)位. 其他人員(註), 搭乘艙等 = 經濟(標準)或相當之座(艙)位\n註：\n註：部室級主管搭乘歐美航線得選擇商務或相當之座(艙(艙)位)位；部室主管(不含)以下人員搭員搭乘歐美航線得選 擇不限價位之經濟艙\n附表三：投保標準\n單位：新台幣\n, 每人投保保額 = 意外(傷害)   死殘保額. , 每人投保保額 = 傷害醫療限額. , 每人投保保額 = 海外突發  疾病醫療(含燒燙傷)  保險限額(註). , 每人投保保額 = 海外旅遊  不便保險. 總經理(含)以上, 每人投保保額 = 2,000 萬元. 總經理(含)以上, 每人投保保額 = 意外(傷害)   死殘保額 10%. 總經理(含)以上, 每人投保保額 = 意外(傷害)   死殘保額 10%. 總經理(含)以上, 每人投保保額 = 販售之海外  旅遊不便保. 高階主管, 每人投保保額 = 1,600 萬元. 高階主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 高階主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 高階主管, 每人投保保額 = 販售之海外  旅遊不便保. 部室/科主管, 每人投保保額 = 1200 萬元. 部室/科主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 部室/科主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 部室/科主管, 每人投保保額 = 販售之海外  旅遊不便保. 及相當職級, 每人投保保額 = 1200 萬元. 及相當職級, 每人投保保額 = 意外(傷害)   死殘保額 10%. 及相當職級, 每人投保保額 = 意外(傷害)   死殘保額 10%. 及相當職級, 每人投保保額\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>總經理(含)以上<|>角色<|>公司内部的一个高级职位级别，与搭乘艙等和投保标准相关联）\n##\n("entity"<|>高階主管<|>角色<|>公司内部的一个高级职位级别，与搭乘艙等和投保标准相关联）\n##\n("entity"<|>部室/科主管<|>角色<|>公司内部的一个中级职位级别，与搭乘艙等和投保标准相关联）\n##\n("entity"<|>及相當職級<|>角色<|>指与部室/科主管相当的其他职位级别，与投保标准相关联）\n##\n("entity"<|>其他人員<|>角色<|>公司内部的普通员工，与搭乘艙等相关联）\n##\n("entity"<|>頭等艙<|>交通工具艙等<|>飞机上的最高级别座位，为總經理(含)以上人员所搭乘）\n##\n("entity"<|>商務艙<|>交通工具艙等<|>飞机上的高级座位，为高階主管和部室級主管搭乘欧美航线时所选择）\n##\n("entity"<|>經濟艙<|>交通工具艙等<|>飞机上的标准座位，为其他人员和部室主管(不含)以下人员搭乘欧美航线时所选择）\n##\n("entity"<|>投保標準<|>政策<|>公司为不同职位级别的员工设定的保险投保金额和范围）\n##\n("relationship"<|>總經理(含)以上<|>頭等艙<|>總經理(含)以上人员搭乘的飞机艙等为头等或相当之座(艙)位<|>5)\n##\n("relationship"<|>高階主管<|>商務艙<|>高階主管搭乘的飞机艙等为商务或相当之座(艙)位<|>5)\n##\n("relationship"<|>部室/科主管<|>商務艙<|>部室級主管搭乘欧美航线时可选择商务或相当之座(艙)位<|>4)\n##\n("relationship"<|>其他人員<|>經濟艙<|>其他人员搭乘的飞机艙等为经济(标准)或相当之座(艙)位<|>5)\n##\n("relationship"<|>總經理(含)以上<|>投保標準<|>總經理(含)以上人员的投保标准<|>5)\n##\n("relationship"<|>高階主管<|>投保標準<|>高階主管的投保标准<|>5)\n##\n("relationship"<|>部室/科主管<|>投保標準<|>部室/科主管的投保标准<|>5)\n##\n("relationship"<|>及相當職級<|>投保標準<|>及相当职级的投保标准<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:27,51 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 27227, Requested 3811. Please try again in 2.076s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:27,59 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '；餐雜費仍依原職級標級標 準核給。\n6. 出差地若有二處(含(含)以上並分屬不同等級城市或地區，依不同地點之停留期間分開計算。\n7. 匯率換算標準：依出國前-星期內賣匯水單匯率或出國前-營業日國泰世華銀行換匯幣別 (現(現鈔)收盤賣出匯率計算。\n附表二：飛機艙別及其他交通工具搭乘標準\n註：\n附表二：飛機艙別及其他交通工具搭乘標準\n總經理(含)以上, 搭乘艙等 = 頭等或相當之座(艙)位. 高階主管, 搭乘艙等 = 商務或相當之座(艙)位. 其他人員(註), 搭乘艙等 = 經濟(標準)或相當之座(艙)位\n註：\n註：部室級主管搭乘歐美航線得選擇商務或相當之座(艙(艙)位)位；部室主管(不含)以下人員搭員搭乘歐美航線得選 擇不限價位之經濟艙\n附表三：投保標準\n單位：新台幣\n, 每人投保保額 = 意外(傷害)   死殘保額. , 每人投保保額 = 傷害醫療限額. , 每人投保保額 = 海外突發  疾病醫療(含燒燙傷)  保險限額(註). , 每人投保保額 = 海外旅遊  不便保險. 總經理(含)以上, 每人投保保額 = 2,000 萬元. 總經理(含)以上, 每人投保保額 = 意外(傷害)   死殘保額 10%. 總經理(含)以上, 每人投保保額 = 意外(傷害)   死殘保額 10%. 總經理(含)以上, 每人投保保額 = 販售之海外  旅遊不便保. 高階主管, 每人投保保額 = 1,600 萬元. 高階主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 高階主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 高階主管, 每人投保保額 = 販售之海外  旅遊不便保. 部室/科主管, 每人投保保額 = 1200 萬元. 部室/科主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 部室/科主管, 每人投保保額 = 意外(傷害)   死殘保額 10%. 部室/科主管, 每人投保保額 = 販售之海外  旅遊不便保. 及相當職級, 每人投保保額 = 1200 萬元. 及相當職級, 每人投保保額 = 意外(傷害)   死殘保額 10%. 及相當職級, 每人投保保額 = 意外(傷害)   死殘保額 10%. 及相當職級, 每人投保保額'}
17:07:27,709 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:27,711 openai._base_client INFO Retrying request to /chat/completions in 1.740000 seconds
17:07:28,290 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:28,294 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 費.宿費 = 檢據實支. 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 加拿大(Canada), 高階主管.宿費 = 400. 加拿大(Canada), 高階主管.餐雜費 = 160. 加拿大(Canada), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 加拿大(Canada), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 美國(U.S.A.), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美國(U.S.A.), 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美國(U.S.A.), 高階主管.宿費 = 440. 美國(U.S.A.), 高階主管.餐雜費 = 180. 美國(U.S.A.), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美國(U.S.A.), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 墨西哥(Mexico), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 墨西哥(Mexico), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 墨西哥(Mexico), 高階主管.宿費 = 385. 墨西哥(Mexico), 高階主管.餐雜費 = 155. 墨西哥(Mexico), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 305. 墨西哥(Mexico), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 115. 巴西(Brazil), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 巴西(Brazil), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 巴西(Brazil), 高階主管.宿費 = 245. 巴西(Brazil), 高階主管.餐雜費 = 100. 巴西(Brazil), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 195. 巴西(Brazil), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 90. 智利(Chile), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 智利(Chile), 總經理級以上主管   宿費 餐雜費.餐雜費 = 135或檢據實支. 智利(Chile), 高階主管.宿費 = 335. 智利(Chile), 高階主管.餐雜費 = 135. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   �\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>加拿大(Canada)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美國(U.S.A.)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>墨西哥(Mexico)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>巴西(Brazil)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个国家，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>協理級(含)以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>加拿大(Canada)<|>總經理級以上主管<|>加拿大地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>加拿大(Canada)<|>高階主管<|>加拿大地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美國(U.S.A.)<|>總經理級以上主管<|>美国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美國(U.S.A.)<|>高階主管<|>美国地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>墨西哥(Mexico)<|>總經理級以上主管<|>墨西哥地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>墨西哥(Mexico)<|>高階主管<|>墨西哥地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>巴西(Brazil)<|>總經理級以上主管<|>巴西地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>巴西(Brazil)<|>高階主管<|>巴西地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>智利(Chile)<|>總經理級以上主管<|>智利地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>智利(Chile)<|>高階主管<|>智利地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:28,294 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 26596, Requested 3893. Please try again in 977ms. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:28,299 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '費.宿費 = 檢據實支. 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 加拿大(Canada), 高階主管.宿費 = 400. 加拿大(Canada), 高階主管.餐雜費 = 160. 加拿大(Canada), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 加拿大(Canada), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 美國(U.S.A.), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美國(U.S.A.), 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美國(U.S.A.), 高階主管.宿費 = 440. 美國(U.S.A.), 高階主管.餐雜費 = 180. 美國(U.S.A.), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美國(U.S.A.), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 墨西哥(Mexico), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 墨西哥(Mexico), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 墨西哥(Mexico), 高階主管.宿費 = 385. 墨西哥(Mexico), 高階主管.餐雜費 = 155. 墨西哥(Mexico), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 305. 墨西哥(Mexico), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 115. 巴西(Brazil), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 巴西(Brazil), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 巴西(Brazil), 高階主管.宿費 = 245. 巴西(Brazil), 高階主管.餐雜費 = 100. 巴西(Brazil), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 195. 巴西(Brazil), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 90. 智利(Chile), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 智利(Chile), 總經理級以上主管   宿費 餐雜費.餐雜費 = 135或檢據實支. 智利(Chile), 高階主管.宿費 = 335. 智利(Chile), 高階主管.餐雜費 = 135. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   �'}
17:07:28,487 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:28,488 openai._base_client INFO Retrying request to /chat/completions in 0.786000 seconds
17:07:29,588 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:29,594 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: .餐雜費 = 95. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 75. 俄羅斯(Russia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 俄羅斯(Russia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 105或檢據實支. 俄羅斯(Russia), 高階主管.宿費 = 320. 俄羅斯(Russia), 高階主管.餐雜費 = 105. 俄羅斯(Russia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 250. 俄羅斯(Russia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 香港(Hong Kong), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 香港(Hong Kong), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 香港(Hong Kong), 高階主管.宿費 = 350. 香港(Hong Kong), 高階主管.餐雜費 = 140. 香港(Hong Kong), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 280. 香港(Hong Kong), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 亞洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 亞洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 亞洲其他國家, 高階主管.宿費 = 400. 亞洲其他國家, 高階主管.餐雜費 = 160. 亞洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 亞洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 美洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 美洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 美洲地區, 高階主管.宿費 = . 美洲地區, 高階主管.餐雜費 = . 美洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 美洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 加拿大(Canada), 高階主管.宿費 = 400. 加拿大(C\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>土耳其(Turkey)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜費相关联）\n##\n("entity"<|>俄羅斯(Russia)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>香港(Hong Kong)<|>地理位置<|>提及的一个地区，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>亞洲其他國家<|>地理位置<|>泛指除上述地区外的其他亚洲国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>美洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜費信息）\n##\n("entity"<|>加拿大(Canada)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>協理級以下人員<|>角色<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>總經理級以上主管<|>角色<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>高階主管<|>角色<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联）\n##\n("relationship"<|>土耳其(Turkey)<|>協理級以下人員<|>土耳其地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>俄羅斯(Russia)<|>總經理級以上主管<|>俄罗斯地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>俄羅斯(Russia)<|>高階主管<|>俄罗斯地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>香港(Hong Kong)<|>總經理級以上主管<|>香港地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>香港(Hong Kong)<|>高階主管<|>香港地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>亞洲其他國家<|>總經理級以上主管<|>亚洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>亞洲其他國家<|>高階主管<|>亚洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>加拿大(Canada)<|>總經理級以上主管<|>加拿大地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>加拿大(Canada)<|>高階主管<|>加拿大地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:29,594 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 29798, Requested 3890. Please try again in 7.376s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:29,603 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '.餐雜費 = 95. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 75. 俄羅斯(Russia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 俄羅斯(Russia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 105或檢據實支. 俄羅斯(Russia), 高階主管.宿費 = 320. 俄羅斯(Russia), 高階主管.餐雜費 = 105. 俄羅斯(Russia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 250. 俄羅斯(Russia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 香港(Hong Kong), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 香港(Hong Kong), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 香港(Hong Kong), 高階主管.宿費 = 350. 香港(Hong Kong), 高階主管.餐雜費 = 140. 香港(Hong Kong), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 280. 香港(Hong Kong), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 亞洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 亞洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 亞洲其他國家, 高階主管.宿費 = 400. 亞洲其他國家, 高階主管.餐雜費 = 160. 亞洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 亞洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 美洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 美洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 美洲地區, 高階主管.宿費 = . 美洲地區, 高階主管.餐雜費 = . 美洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 美洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 加拿大(Canada), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 加拿大(Canada), 高階主管.宿費 = 400. 加拿大(C'}
17:07:29,688 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:29,693 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 寮國(Laos), 高階主管.宿費 = 240. 寮國(Laos), 高階主管.餐雜費 = 90. 寮國(Laos), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 135. 寮國(Laos), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 越南(Vietnam), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 越南(Vietnam), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 越南(Vietnam), 高階主管.宿費 = 240. 越南(Vietnam), 高階主管.餐雜費 = 90. 越南(Vietnam), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 175. 越南(Vietnam), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 阿拉伯聯合大公國  (United Arab Emirates), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿拉伯聯合大公國  (United Arab Emirates), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 阿拉伯聯合大公國  (United Arab Emirates), 高階主管.宿費 = 395. 阿拉伯聯合大公國  (United Arab Emirates), 高階主管.餐雜費 = 160. 阿拉伯聯合大公國  (United Arab Emirates), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 315. 阿拉伯聯合大公國  (United Arab Emirates), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 以色列(Israel), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 以色列(Israel), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 以色列(Israel), 高階主管.宿費 = 395. 以色列(Israel), 高階主管.餐雜費 = 160. 以色列(Israel), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 315. 以色列(Israel), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 土耳其(Turkey), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 土耳其(Turkey), 總經理級以上主管   宿費 餐雜費.餐雜費 = 95或檢據實支. 土耳其(Turkey), 高階主管.宿費 = 235. 土耳其(Turkey), 高階主管.餐雜費 = 95. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 =\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>寮國(Laos)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>越南(Vietnam)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>阿拉伯聯合大公國(United Arab Emirates)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>以色列(Israel)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>土耳其(Turkey)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>經理級以上主管<|>角色<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>高階主管<|>角色<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>協理級(含)以下人員<|>角色<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联）\n##\n("relationship"<|>寮國(Laos)<|>高階主管<|>寮国的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>寮國(Laos)<|>協理級(含)以下人員<|>寮国的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>越南(Vietnam)<|>經理級以上主管<|>越南的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>越南(Vietnam)<|>高階主管<|>越南的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿拉伯聯合大公國(United Arab Emirates)<|>經理級以上主管<|>阿拉伯聯合大公國的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿拉伯聯合大公國(United Arab Emirates)<|>高階主管<|>阿拉伯聯合大公國的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>以色列(Israel)<|>經理級以上主管<|>以色列的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>以色列(Israel)<|>高階主管<|>以色列的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>土耳其(Turkey)<|>經理級以上主管<|>土耳其的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>土耳其(Turkey)<|>高階主管<|>土耳其的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:29,693 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 29730, Requested 3912. Please try again in 7.284s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:29,700 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 寮國(Laos), 高階主管.宿費 = 240. 寮國(Laos), 高階主管.餐雜費 = 90. 寮國(Laos), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 135. 寮國(Laos), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 越南(Vietnam), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 越南(Vietnam), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 越南(Vietnam), 高階主管.宿費 = 240. 越南(Vietnam), 高階主管.餐雜費 = 90. 越南(Vietnam), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 175. 越南(Vietnam), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 阿拉伯聯合大公國  (United Arab Emirates), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿拉伯聯合大公國  (United Arab Emirates), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 阿拉伯聯合大公國  (United Arab Emirates), 高階主管.宿費 = 395. 阿拉伯聯合大公國  (United Arab Emirates), 高階主管.餐雜費 = 160. 阿拉伯聯合大公國  (United Arab Emirates), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 315. 阿拉伯聯合大公國  (United Arab Emirates), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 以色列(Israel), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 以色列(Israel), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 以色列(Israel), 高階主管.宿費 = 395. 以色列(Israel), 高階主管.餐雜費 = 160. 以色列(Israel), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 315. 以色列(Israel), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 土耳其(Turkey), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 土耳其(Turkey), 總經理級以上主管   宿費 餐雜費.餐雜費 = 95或檢據實支. 土耳其(Turkey), 高階主管.宿費 = 235. 土耳其(Turkey), 高階主管.餐雜費 = 95. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 土耳其(Turkey), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 ='}
17:07:29,701 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:29,702 openai._base_client INFO Retrying request to /chat/completions in 7.208000 seconds
17:07:29,943 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:29,945 openai._base_client INFO Retrying request to /chat/completions in 7.500000 seconds
17:07:30,67 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:30,68 openai._base_client INFO Retrying request to /chat/completions in 6.974000 seconds
17:07:30,91 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:30,93 openai._base_client INFO Retrying request to /chat/completions in 7.340000 seconds
17:07:30,164 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:30,166 openai._base_client INFO Retrying request to /chat/completions in 7.334000 seconds
17:07:37,440 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:37,445 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: �(含)   以下人員   宿費 餐雜費.宿費 = 320. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 印尼(Indonesia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 印尼(Indonesia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 印尼(Indonesia), 高階主管.宿費 = 260. 印尼(Indonesia), 高階主管.餐雜費 = 100. 印尼(Indonesia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 印尼(Indonesia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 緬甸(Burma), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 緬甸(Burma), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 緬甸(Burma), 高階主管.宿費 = 260. 緬甸(Burma), 高階主管.餐雜費 = 100. 緬甸(Burma), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 緬甸(Burma), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 印度(India), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 印度(India), 總經理級以上主管   宿費 餐雜費.餐雜費 = 120或檢據實支. 印度(India), 高階主管.宿費 = 300. 印度(India), 高階主管.餐雜費 = 120. 印度(India), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 240. 印度(India), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105. 柬埔寨(Cambodia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 柬埔寨(Cambodia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 柬埔寨(Cambodia), 高階主管.宿費 = 240. 柬埔寨(Cambodia), 高階主管.餐雜費 = 90. 柬埔寨(Cambodia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 145. 柬埔寨(Cambodia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 寮國(Laos), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 寮國(Laos), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 寮國(Laos), 高階主管.宿費 = 240. 寮國(Laos), 高階主管.餐雜費 = 90. 寮國(Laos), 協理\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>新加坡(Singapore)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜費相关联）\n##\n("entity"<|>印尼(Indonesia)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>緬甸(Burma)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>印度(India)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>柬埔寨(Cambodia)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>寮國(Laos)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜費相关联）\n##\n("entity"<|>協理級以下人員<|>角色<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>總經理級以上主管<|>角色<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联）\n##\n("entity"<|>高階主管<|>角色<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联）\n##\n("relationship"<|>新加坡(Singapore)<|>協理級以下人員<|>新加坡地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>印尼(Indonesia)<|>總經理級以上主管<|>印尼地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>印尼(Indonesia)<|>高階主管<|>印尼地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>緬甸(Burma)<|>總經理級以上主管<|>緬甸地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>緬甸(Burma)<|>高階主管<|>緬甸地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>印度(India)<|>總經理級以上主管<|>印度地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>印度(India)<|>高階主管<|>印度地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>柬埔寨(Cambodia)<|>總經理級以上主管<|>柬埔寨地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>柬埔寨(Cambodia)<|>高階主管<|>柬埔寨地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>寮國(Laos)<|>總經理級以上主管<|>寮国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>寮國(Laos)<|>高階主管<|>寮国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:37,446 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 29785, Requested 3942. Please try again in 7.454s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:37,453 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '�(含)   以下人員   宿費 餐雜費.宿費 = 320. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 印尼(Indonesia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 印尼(Indonesia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 印尼(Indonesia), 高階主管.宿費 = 260. 印尼(Indonesia), 高階主管.餐雜費 = 100. 印尼(Indonesia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 印尼(Indonesia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 緬甸(Burma), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 緬甸(Burma), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 緬甸(Burma), 高階主管.宿費 = 260. 緬甸(Burma), 高階主管.餐雜費 = 100. 緬甸(Burma), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 緬甸(Burma), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 印度(India), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 印度(India), 總經理級以上主管   宿費 餐雜費.餐雜費 = 120或檢據實支. 印度(India), 高階主管.宿費 = 300. 印度(India), 高階主管.餐雜費 = 120. 印度(India), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 240. 印度(India), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105. 柬埔寨(Cambodia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 柬埔寨(Cambodia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 柬埔寨(Cambodia), 高階主管.宿費 = 240. 柬埔寨(Cambodia), 高階主管.餐雜費 = 90. 柬埔寨(Cambodia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 145. 柬埔寨(Cambodia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 寮國(Laos), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 寮國(Laos), 總經理級以上主管   宿費 餐雜費.餐雜費 = 90或檢據實支. 寮國(Laos), 高階主管.宿費 = 240. 寮國(Laos), 高階主管.餐雜費 = 90. 寮國(Laos), 協理'}
17:07:37,698 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:37,699 openai._base_client INFO Retrying request to /chat/completions in 7.418000 seconds
17:07:37,707 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:37,714 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 第-條目(目條(目的)\n為使本公司員工赴國外出差、考察或受訓等有所依循，特訂定本要點。\n第二條\n奉派出國人員其差旅費用悉依本辦法規定辦理，但因業務需求或有特殊原因，處級主管(含(含)以上 經總經理、處級主管(不含)以下經處級主管同意者，不在此限。\n第三條(餐(餐雜宿費標準)\n員工跨境出差之宿費及餐雜費悉費悉依附表-標準支給之。\n第四條(飛(飛機艙別及其他交通工具搭乘標準及交通費)\n奉派出國人員往返機票費及其他交通工具費用准予按實報支，其標準如附表二。\n在國外必須之交通，應依經奉准旅程表之路程為之，其交通費須檢附收據按實報支，自辦公 (住(住宿)處)處往返國際機場且來回車資，副總經理(含(含)以上實報實銷，協理級(含(含)以下同仁當仁當次出 差往返國內外機場之費用總計上限新限新台幣六千六千元得檢據核銷。\n第五條(投(投保標準)\n奉派出國人員得以出國公假日數為保險期間，投保子公司旅遊保險中之意外(傷(傷害)死殘保險、 傷害醫療保險、海外突發疾病醫療(含(含燒燙傷)保)保險、海外旅遊不便保險，其標準如附表三。\n第六條(其他費用)\n辦理出國必備之包之包括護照費、簽證費、機場服務費等，得檢據請領；若於出差國家轉搭國內線 航班，其票價未含行李費者，該行李費得列入手續費，惟以1件1件或20公斤為限。其他未列於本 辦法中費用，如因業務需要，以簽准內容為限，實報實銷。奉派出國人員交際應酬費用除奉准 由公司開支之部份外，-概自理。\n第七條七條(海外境內差旅費支給標準)\n派駐至海外人員於工作地國家境內因公出差時，適用本條之規定。交通費以往返出差地點所必 須之交通費用為限，如附表四。海外境內出差之宿費及雜費，如附表五。\n國泰金融控股股份有限公司員工國外出差要點\n940405 訂5 訂定\n951031 修訂\n980728 修8 修訂\n981005 修5 修訂\n990531 修訂\n1011115 修5 修訂\n1020320 修0 修訂\n1021104 修4 修訂\n1031223 修3 修訂\n1040505 修5 修訂\n1051208 修8 修訂\n1070326 修6 修訂\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>本公司員工<|>角色<|>被指派赴國外出差、考察或受訓的人员，需要遵循特定的差旅费用规定。)\n##\n("entity"<|>奉派出國人員<|>角色<|>根据规定处理差旅费用的人员，可能因业务需求或特殊原因有不同的费用处理方式。)\n##\n("entity"<|>處級主管<|>角色<|>公司内部的管理职位，对于出国人员的差旅费用有审批权限。)\n##\n("entity"<|>總經理<|>角色<|>公司的高级管理人员，对于特殊情况下的差旅费用有最终审批权限。)\n##\n("entity"<|>副總經理<|>角色<|>公司的高级管理人员之一，对于某些费用的报销有实报实销的权限。)\n##\n("entity"<|>協理級以下同仁<|>角色<|>公司内部较低级别的员工，对于出差往返国内外机场的费用有一定的报销上限。)\n##\n("entity"<|>差旅費用<|>概念<|>包括宿费、餐杂费、交通费等，根据不同的规定和标准进行报销。)\n##\n("entity"<|>宿費及餐雜費標準<|>文件<|>规定员工跨境出差时宿费和餐杂费的支给标准。)\n##\n("entity"<|>飛機艙別及其他交通工具搭乘標準<|>文件<|>规定出国人员往返机票费及其他交通工具费用的报销标准。)\n##\n("entity"<|>交通費<|>概念<|>包括往返机票费、其他交通工具费用以及国外必需的交通费用，按实报支。)\n##\n("entity"<|>投保標準<|>文件<|>规定出国人员可以投保的旅游保险类型及标准。)\n##\n("entity"<|>其他費用<|>概念<|>包括護照费、签证费、机场服务费等，可以按实际发生进行报销。)\n##\n("entity"<|>海外境內差旅費支給標準<|>文件<|>规定派驻至海外人员在工作地国家境内因公出差的交通费、宿费及杂费的支给标准。)\n##\n("relationship"<|>奉派出國人員<|>差旅費用<|>奉派出国人员的差旅费用根据本辦法规定辦理。<|>5)\n##\n("relationship"<|>處級主管<|>奉派出國人員<|>處级主管对奉派出国人员的差旅费用有审批权限。<|>5)\n##\n("relationship"<|>總經理<|>奉派出國人員<|>總经理对于特殊情况下的差旅费用有最终审批权限。<|>5)\n##\n("relationship"<|>副總經理<|>交通費<|>副总经理对于出差交通费用有实报实销的权限。<|>5)\n##\n("relationship"<|>協理級以下同仁<|>交通費<|>协理级以下同仁对于出差往返国内外机场的费用有一定的报销上限。<|>5)\n##\n("relationship"<|>宿費及餐雜費標準<|>奉派出國人員<|>规定了奉派出国人员跨境出差时的宿费和餐杂费支给标准。<|>5)\n##\n("relationship"<|>飛機艙別及其他交通工具搭乘標準<|>交通費<|>规定了出国人员往返机票费及其他交通工具费用的报销标准。<|>5)\n##\n("relationship"<|>投保標準<|>奉派出國人員<|>规定了出国人员可以投保的旅游保险类型及标准。<|>5)\n##\n("relationship"<|>其他費用<|>奉派出國人員<|>包括護照费、签证费、机场服务费等，出国人员可以按实际发生进行报销。<|>5)\n##\n("relationship"<|>海外境內差旅費支給標準<|>派駐至海外人員<|>规定了派驻至海外人员在工作地国家境内因公出差的费用支给标准。<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:37,714 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 29597, Requested 4134. Please try again in 7.462s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:37,722 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '第-條目(目條(目的)\n為使本公司員工赴國外出差、考察或受訓等有所依循，特訂定本要點。\n第二條\n奉派出國人員其差旅費用悉依本辦法規定辦理，但因業務需求或有特殊原因，處級主管(含(含)以上 經總經理、處級主管(不含)以下經處級主管同意者，不在此限。\n第三條(餐(餐雜宿費標準)\n員工跨境出差之宿費及餐雜費悉費悉依附表-標準支給之。\n第四條(飛(飛機艙別及其他交通工具搭乘標準及交通費)\n奉派出國人員往返機票費及其他交通工具費用准予按實報支，其標準如附表二。\n在國外必須之交通，應依經奉准旅程表之路程為之，其交通費須檢附收據按實報支，自辦公 (住(住宿)處)處往返國際機場且來回車資，副總經理(含(含)以上實報實銷，協理級(含(含)以下同仁當仁當次出 差往返國內外機場之費用總計上限新限新台幣六千六千元得檢據核銷。\n第五條(投(投保標準)\n奉派出國人員得以出國公假日數為保險期間，投保子公司旅遊保險中之意外(傷(傷害)死殘保險、 傷害醫療保險、海外突發疾病醫療(含(含燒燙傷)保)保險、海外旅遊不便保險，其標準如附表三。\n第六條(其他費用)\n辦理出國必備之包之包括護照費、簽證費、機場服務費等，得檢據請領；若於出差國家轉搭國內線 航班，其票價未含行李費者，該行李費得列入手續費，惟以1件1件或20公斤為限。其他未列於本 辦法中費用，如因業務需要，以簽准內容為限，實報實銷。奉派出國人員交際應酬費用除奉准 由公司開支之部份外，-概自理。\n第七條七條(海外境內差旅費支給標準)\n派駐至海外人員於工作地國家境內因公出差時，適用本條之規定。交通費以往返出差地點所必 須之交通費用為限，如附表四。海外境內出差之宿費及雜費，如附表五。\n國泰金融控股股份有限公司員工國外出差要點\n940405 訂5 訂定\n951031 修訂\n980728 修8 修訂\n981005 修5 修訂\n990531 修訂\n1011115 修5 修訂\n1020320 修0 修訂\n1021104 修4 修訂\n1031223 修3 修訂\n1040505 修5 修訂\n1051208 修8 修訂\n1070326 修6 修訂'}
17:07:37,810 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:37,812 openai._base_client INFO Retrying request to /chat/completions in 7.494000 seconds
17:07:38,457 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:07:42,665 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:07:45,343 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:45,344 openai._base_client INFO Retrying request to /chat/completions in 8.204000 seconds
17:07:45,661 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:45,662 openai._base_client INFO Retrying request to /chat/completions in 8.350000 seconds
17:07:54,57 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:54,65 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 經理級以上主管   宿費 餐雜費.餐雜費 = 130或檢據實支. 南韓(Korea), 高階主管.宿費 = 315. 南韓(Korea), 高階主管.餐雜費 = 130. 南韓(Korea), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 255. 南韓(Korea), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 110. 菲律賓(Philippines), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 菲律賓(Philippines), 總經理級以上主管   宿費 餐雜費.餐雜費 = 105或檢據實支. 菲律賓(Philippines), 高階主管.宿費 = 260. 菲律賓(Philippines), 高階主管.餐雜費 = 105. 菲律賓(Philippines), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 210. 菲律賓(Philippines), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 泰國(Thailand), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 泰國(Thailand), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 泰國(Thailand), 高階主管.宿費 = 245. 泰國(Thailand), 高階主管.餐雜費 = 100. 泰國(Thailand), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 200. 泰國(Thailand), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 馬來西亞(Malaysia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 馬來西亞(Malaysia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 馬來西亞(Malaysia), 高階主管.宿費 = 260. 馬來西亞(Malaysia), 高階主管.餐雜費 = 100. 馬來西亞(Malaysia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 馬來西亞(Malaysia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 新加坡(Singapore), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 新加坡(Singapore), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 新加坡(Singapore), 高階主管.宿費 = 400. 新加坡(Singapore), 高階主管.餐雜費 = 160. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 印尼(Indonesia), 總經理級以上主管   宿\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>南韓(Korea)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>菲律賓(Philippines)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>泰國(Thailand)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>馬來西亞(Malaysia)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>新加坡(Singapore)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>印尼(Indonesia)<|>LOCATION<|>提到的一个地点，与總經理級以上主管的宿費和餐雜費相关联)\n##\n("entity"<|>經理級以上主管<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>協理級(含)以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>南韓(Korea)<|>高階主管<|>南韓地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>南韓(Korea)<|>協理級(含)以下人員<|>南韓地区的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>菲律賓(Philippines)<|>經理級以上主管<|>菲律賓地区的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>菲律賓(Philippines)<|>高階主管<|>菲律賓地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>菲律賓(Philippines)<|>協理級(含)以下人員<|>菲律賓地区的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>泰國(Thailand)<|>經理級以上主管<|>泰國地区的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>泰國(Thailand)<|>高階主管<|>泰國地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>泰國(Thailand)<|>協理級(含)以下人員<|>泰國地区的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>馬來西亞(Malaysia)<|>經理級以上主管<|>馬來西亞地区的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>馬來西亞(Malaysia)<|>高階主管<|>馬來西亞地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>馬來西亞(Malaysia)<|>協理級(含)以下人員<|>馬來西亞地区的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>新加坡(Singapore)<|>經理級以上主管<|>新加坡地区的經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>新加坡(Singapore)<|>高階主管<|>新加坡地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>新加坡(Singapore)<|>協理級(含)以下人員<|>新加坡地区的協理級(含)以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>印尼(Indonesia)<|>經理級以上主管<|>印尼地区的經理級以上主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:54,65 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 28073, Requested 4102. Please try again in 4.35s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:54,73 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '經理級以上主管   宿費 餐雜費.餐雜費 = 130或檢據實支. 南韓(Korea), 高階主管.宿費 = 315. 南韓(Korea), 高階主管.餐雜費 = 130. 南韓(Korea), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 255. 南韓(Korea), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 110. 菲律賓(Philippines), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 菲律賓(Philippines), 總經理級以上主管   宿費 餐雜費.餐雜費 = 105或檢據實支. 菲律賓(Philippines), 高階主管.宿費 = 260. 菲律賓(Philippines), 高階主管.餐雜費 = 105. 菲律賓(Philippines), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 210. 菲律賓(Philippines), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 泰國(Thailand), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 泰國(Thailand), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 泰國(Thailand), 高階主管.宿費 = 245. 泰國(Thailand), 高階主管.餐雜費 = 100. 泰國(Thailand), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 200. 泰國(Thailand), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 85. 馬來西亞(Malaysia), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 馬來西亞(Malaysia), 總經理級以上主管   宿費 餐雜費.餐雜費 = 100或檢據實支. 馬來西亞(Malaysia), 高階主管.宿費 = 260. 馬來西亞(Malaysia), 高階主管.餐雜費 = 100. 馬來西亞(Malaysia), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 190. 馬來西亞(Malaysia), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 95. 新加坡(Singapore), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 新加坡(Singapore), 總經理級以上主管   宿費 餐雜費.餐雜費 = 160或檢據實支. 新加坡(Singapore), 高階主管.宿費 = 400. 新加坡(Singapore), 高階主管.餐雜費 = 160. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 320. 新加坡(Singapore), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 140. 印尼(Indonesia), 總經理級以上主管   宿'}
17:07:54,646 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:54,653 graphrag.callbacks.file_workflow_callbacks INFO Error Invoking LLM details={'prompt': 'MANY entities and relationships were missed in the last extraction. Remember to ONLY emit entities that match any of the previously extracted types. Add them below using the same format:\n', 'kwargs': {'history': [{'content': '\n-Goal-\nGiven a text document that is potentially relevant to this activity, first identify all entities needed from the text in order to capture the information and ideas in the text.\nNext, report all relationships among the identified entities.\n\n-Steps-\n1. Identify all entities. For each identified entity, extract the following information:\n- entity_name: Name of the entity, capitalized\n- entity_type: Suggest several labels or categories for the entity. The categories should not be specific, but should be as general as possible.\n- entity_description: Comprehensive description of the entity\'s attributes and activities\nFormat each entity as ("entity"<|><entity_name><|><entity_type><|><entity_description>)\n\n2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.\nFor each pair of related entities, extract the following information:\n- source_entity: name of the source entity, as identified in step 1\n- target_entity: name of the target entity, as identified in step 1\n- relationship_description: explanation as to why you think the source entity and the target entity are related to each other\n- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target entity\nFormat each relationship as ("relationship"<|><source_entity><|><target_entity><|><relationship_description><|><relationship_strength>)\n\n3. Return output in Chinese as a single list of all the entities and relationships identified in steps 1 and 2. Use **##** as the list delimiter.\n\n4. If you have to translate into Chinese, just translate the descriptions, nothing else!\n\n5. When finished, output <|COMPLETE|>.\n\n-Examples-\n######################\n\nExample 1:\n\ntext:\n(含)   以下人員   宿費 餐雜費.宿費 = 265. 智利(Chile), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 100. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 阿根廷(Argentina), 總經理級以上主管   宿費 餐雜費.餐雜費 = 150或檢據實支. 阿根廷(Argentina), 高階主管.宿費 = 370. 阿根廷(Argentina), 高階主管.餐雜費 = 150. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 295. 阿根廷(Argentina), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 130. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 烏拉圭(Uruguay), 總經理級以上主管   宿費 餐雜費.餐雜費 = 145或檢據實支. 烏拉圭(Uruguay), 高階主管.宿費 = 340. 烏拉圭(Uruguay), 高階主管.餐雜費 = 145. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 烏拉圭(Uruguay), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 120. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 美洲其他國家, 總經理級以上主管   宿費 餐雜費.餐雜費 = 180或檢據實支. 美洲其他國家, 高階主管.宿費 = 440. 美洲其他國家, 高階主管.餐雜費 = 180. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.宿費 = 355. 美洲其他國家, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 135. 歐洲地區, 總經理級以上主管   宿費 餐雜費.宿費 = . 歐洲地區, 總經理級以上主管   宿費 餐雜費.餐雜費 = . 歐洲地區, 高階主管.宿費 = . 歐洲地區, 高階主管.餐雜費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.宿費 = . 歐洲地區, 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = . 法國(France), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 法國(France), 總經理級以上主管   宿費 餐雜費.餐雜費 = 155或檢據實支. 法國(France), 高階主管.宿費 = 390. 法國(France), 高階主管.餐雜費 = 155. 法國(France), 協理\n------------------------\noutput:\n("entity"<|>智利(Chile)<|>LOCATION<|>提到的一个地点，与協理級以下人員的宿費和餐雜費相关联)\n##\n("entity"<|>阿根廷(Argentina)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>烏拉圭(Uruguay)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>美洲其他國家<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>歐洲地區<|>LOCATION<|>提到的一个地区，与不同级别主管的宿費和餐雜費相关联，但未提供具体数值)\n##\n("entity"<|>法國(France)<|>LOCATION<|>提到的一个地点，与不同级别主管的宿費和餐雜費相关联)\n##\n("entity"<|>協理級以下人員<|>ROLE<|>公司内部的一个职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>總經理級以上主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("entity"<|>高階主管<|>ROLE<|>公司内部的一个高级职位级别，与宿費和餐雜費的规定相关联)\n##\n("relationship"<|>智利(Chile)<|>協理級以下人員<|>智利地区的協理級以下人員的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>總經理級以上主管<|>阿根廷地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>阿根廷(Argentina)<|>高階主管<|>阿根廷地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>總經理級以上主管<|>烏拉圭地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>烏拉圭(Uruguay)<|>高階主管<|>烏拉圭地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>總經理級以上主管<|>美洲其他国家地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>美洲其他國家<|>高階主管<|>美洲其他国家地区的高階主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>總經理級以上主管<|>法国地区的總經理級以上主管的宿費和餐雜費规定<|>5)\n##\n("relationship"<|>法國(France)<|>高階主管<|>法国地区的高階主管的宿費和餐雜費规定<|>5)\n<|COMPLETE|>\n#############################\n\n\nExample 2:\n\ntext:\n雜費.宿費 = 380. 盧森堡(Luxembourg), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 165. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 瑞士(Switzerland), 總經理級以上主管   宿費 餐雜費.餐雜費 = 165或檢據實支. 瑞士(Switzerland), 高階主管.宿費 = 405. 瑞士(Switzerland), 高階主管.餐雜費 = 165. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 325. 瑞士(Switzerland), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 125. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.宿費 = 檢據實支. 丹麥(Denmark), 總經理級以上主管   宿費 餐雜費.餐雜費 = 140或檢據實支. 丹麥(Denmark), 高階主管.宿費 = 345. 丹麥(Denmark), 高階主管.餐雜費 = 140. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.宿費 = 275. 丹麥(Denmark), 協理級(含)   以下人員   宿費 餐雜費.餐雜費 = 105\n瑞典(Sweden), 1 = 檢據實支. 瑞典(Sweden), 2 = 160或檢據實支. 瑞典(Sweden), 3 = 390. 瑞典(Sweden), 4 = 160. 瑞典(Sweden), 5 = 315. 瑞典(Sweden), 6 = 120. 英國(United Kingdom), 1 = 檢據實支. 英國(United Kingdom), 2 = 180或檢據實支. 英國(United Kingdom), 3 = 440. 英國(United Kingdom), 4 = 180. 英國(United Kingdom), 5 = 355. 英國(United Kingdom), 6 = 155. 西班牙(Spain), 1 = 檢據實支. 西班牙(Spain), 2 = 150或檢據實支. 西班牙(Spain), 3 = 380. 西班牙(Spain), 4 = 150. 西班牙(Spain), 5 = 300. 西班牙(Spain), 6 = 130. 義大利(Italy), 1 = 檢據實支. 義大利(Italy), 2 = 165或檢據實支. 義大利(Italy), 3 = 405. 義大利(Italy), 4 = 165. 義大利(Italy), 5 = 325. 義大利(Italy), 6 = 145. 歐洲其他國家, 1 = 檢據實支. 歐洲其他國家, 2 = 190或檢據實支. 歐洲其他國家, 3 = 470. 歐洲其他國家, 4 = 190. 歐洲其他國家, 5 = 380. 歐洲其他國家, 6 = 165. 大洋洲地區, 1 = . 大洋洲地區, 2 = . 大洋洲地區, 3 = . 大洋洲地區, 4 = . 大洋洲地區, 5 = . 大洋洲地區, 6 = . 澳大利亞(Australia), 1 = 檢據實支. 澳大利亞(Australia), \n------------------------\noutput:\n("entity"<|>盧森堡(Luxembourg)<|>地理位置<|>提及的一个国家，与协理级以下人员的宿费和餐雜费相关联）\n##\n("entity"<|>瑞士(Switzerland)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>丹麥(Denmark)<|>地理位置<|>提及的一个国家，与不同级别的主管的宿费和餐雜费相关联）\n##\n("entity"<|>瑞典(Sweden)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>英國(United Kingdom)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>西班牙(Spain)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>義大利(Italy)<|>地理位置<|>提及的一个国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>歐洲其他國家<|>地理位置<|>泛指除上述国家外的其他欧洲国家，与不同编号的宿费和餐雜费相关联）\n##\n("entity"<|>大洋洲地區<|>地理位置<|>提及的一个地区，但未提及具体的宿费和餐雜费信息）\n##\n("entity"<|>澳大利亞(Australia)<|>地理位置<|>提及的一个国家，与宿费和餐雜费的檢據實支相关联）\n##\n("relationship"<|>盧森堡(Luxembourg)<|>瑞士(Switzerland)<|>两国都提及了与协理级以下人员的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞士(Switzerland)<|>丹麥(Denmark)<|>两国都提及了与不同级别的主管的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>瑞典(Sweden)<|>英國(United Kingdom)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>西班牙(Spain)<|>義大利(Italy)<|>两国都提及了与不同编号的宿费和餐雜费相关的信息<|>5)\n##\n("relationship"<|>歐洲其他國家<|>大洋洲地區<|>两者都是地理位置的分类，但提供的宿费和餐雜费信息不同<|>3)\n##\n("relationship"<|>澳大利亞(Australia)<|>大洋洲地區<|>澳大利亚是大洋洲地区的一部分，提及了宿费和餐雜费的檢據實支<|>8)\n<|COMPLETE|>\n#############################\n\n\n\n-Real Data-\n######################\ntext: 國泰金融控股股份有限公司員工國內出差要點\n940405 訂5 訂定\n951031 修訂\n960509 修9 修訂\n980728 修8 修訂\n1020101 修訂\n1030206 修6 修訂\n1030523 修3 修訂\n1040904 修4 修訂\n1070326 修6 修訂\n1090101 修訂\n1120801修1修訂\n1130701修1修訂\n權責單位：人力資源部\n第-條(目(目的及依據)\n為使本公司員工出差作業有所依循，特訂定本要點。\n第二條範(範條(範圍)\n本公司員工因公出差時，除另有規定外，悉依本要點之規定辦理。\n第三條(出差申請程序)\n員工因公需要出差時，應事先填具出差申請單，詳填出差預定日程，經該單位主管核簽並依 分層負責表規定呈主管核准後始得出差，並依員工出勤管理要點相關規定辦理。\n第四條(雜宿費標準)\n員工出差之雜費、宿費悉依附件標準支給之。\n第五條(其他限制) 員工出差除單程旅程達 100 公里以上得申請宿費外，應以當天返回任所為原則；交通費按本\n要點規定支給。\n第六條(其他費用)\n公差人員交際應酬費用除呈奉准由公司開支之部份外，-概自理。\n第七條費(費條(費用核銷)\n員工公差完畢應即返回任所銷差，並於七日內於國內出差費用核銷系統提出費用申請，並檢 附相關收據，報請費用核銷。\n第八條(修(修訂及施行)\n本要點之訂定、修正或廢止應經總經理同意。\n本要點自訂定日起生效施行，修正或廢止時亦同。\n附件：國內出差雜、宿、交通費標準\n第八條(修(修訂及施行)\n附件：國內出差雜、宿、交通費標準\n總經理以上, 全日雜費 = 檢據實支. 總經理以上, 宿費 = 檢據實支. 總經理以上, 交通費 = 檢據實支. 高階主管, 全日雜費 = 檢據實支. 高階主管, 宿費 = 檢據實支. 高階主管, 交通費 = 檢據實支. 部室主管及相當職級, 全日雜費 = 每日 300 元. 部室主管及相當職級, 宿費 = 元核支交通費。. 部室主管及相當職級, 交通費 = 1. 以飛機經濟艙、高鐵  標準車廂或自強號之. 科主管及相當職級, 全日雜費 = 每日 300 元. 科主管及相當職級, 宿費 = 元核支交通費。. 科主管及相當職級, 交通費 = 價格為上限。  2. 如自行開�\n######################\noutput:\n', 'role': 'user'}, {'role': 'assistant', 'content': '("entity"<|>國泰金融控股股份有限公司<|>組織<|>本文的主體，制定了員工國內出差要點的公司)\n##\n("entity"<|>人力資源部<|>部門<|>負責制定和修訂員工國內出差要點的部門)\n##\n("entity"<|>員工<|>角色<|>國泰金融控股股份有限公司的員工，需要遵守出差要點的對象)\n##\n("entity"<|>出差申請單<|>文件<|>員工因公出差時需填寫的文件，需經單位主管核簽和主管核准)\n##\n("entity"<|>雜費<|>費用類型<|>員工出差時的相關雜費，依附件標準支給)\n##\n("entity"<|>宿費<|>費用類型<|>員工出差時的住宿費用，依附件標準支給)\n##\n("entity"<|>交通費<|>費用類型<|>員工出差時的交通費用，依附件標準支給)\n##\n("entity"<|>總經理以上<|>職級<|>公司內部的高級職位，出差費用標準為檢據實支)\n##\n("entity"<|>高階主管<|>職級<|>公司內部的高級管理職位，出差費用標準為檢據實支)\n##\n("entity"<|>部室主管及相當職級<|>職級<|>公司內部的中級管理職位，出差雜費、宿費和交通費有具體標準)\n##\n("entity"<|>科主管及相當職級<|>職級<|>公司內部的基層管理職位，出差雜費、宿費和交通費有具體標準)\n##\n("relationship"<|>國泰金融控股股份有限公司<|>員工<|>員工是國泰金融控股股份有限公司的一部分，需遵守出差要點<|>5)\n##\n("relationship"<|>人力資源部<|>出差申請單<|>人力資源部負責制定出差申請單的規範<|>5)\n##\n("relationship"<|>員工<|>出差申請單<|>員工需要填寫出差申請單以進行公差<|>5)\n##\n("relationship"<|>員工<|>雜費<|>員工出差時產生的雜費，依標準支給<|>5)\n##\n("relationship"<|>員工<|>宿費<|>員工出差時的住宿費用，依標準支給<|>5)\n##\n("relationship"<|>員工<|>交通費<|>員工出差時的交通費用，依標準支給<|>5)\n##\n("relationship"<|>總經理以上<|>雜費<|>總經理以上職級的員工出差雜費標準為檢據實支<|>5)\n##\n("relationship"<|>總經理以上<|>宿費<|>總經理以上職級的員工出差宿費標準為檢據實支<|>5)\n##\n("relationship"<|>總經理以上<|>交通費<|>總經理以上職級的員工出差交通費標準為檢據實支<|>5)\n##\n("relationship"<|>高階主管<|>雜費<|>高階主管職級的員工出差雜費標準為檢據實支<|>5)\n##\n("relationship"<|>高階主管<|>宿費<|>高階主管職級的員工出差宿費標準為檢據實支<|>5)\n##\n("relationship"<|>高階主管<|>交通費<|>高階主管職級的員工出差交通費標準為檢據實支<|>5)\n##\n("relationship"<|>部室主管及相當職級<|>雜費<|>部室主管及相當職級的員工出差雜費有具體標準<|>5)\n##\n("relationship"<|>部室主管及相當職級<|>宿費<|>部室主管及相當職級的員工出差宿費有具體標準<|>5)\n##\n("relationship"<|>部室主管及相當職級<|>交通費<|>部室主管及相當職級的員工出差交通費有具體標準<|>5)\n##\n("relationship"<|>科主管及相當職級<|>雜費<|>科主管及相當職級的員工出差雜費有具體標準<|>5)\n##\n("relationship"<|>科主管及相當職級<|>宿費<|>科主管及相當職級的員工出差宿費有具體標準<|>5)\n##\n("relationship"<|>科主管及相當職級<|>交通費<|>科主管及相當職級的員工出差交通費有具體標準<|>5)\n<|COMPLETE|>'}], 'name': 'extract-continuation-0'}}
17:07:54,653 graphrag.index.operations.extract_graph.graph_extractor ERROR error extracting graph
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 127, in __call__
    result = await self._process_document(text, prompt_variables)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/extract_graph/graph_extractor.py", line 165, in _process_document
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 83, in achat
    response = await self.model(prompt, history=history, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 78, in invoke
    return await delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 27860, Requested 4175. Please try again in 4.069s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}
17:07:54,661 graphrag.callbacks.file_workflow_callbacks INFO Entity Extraction Error details={'doc_index': 0, 'text': '國泰金融控股股份有限公司員工國內出差要點\n940405 訂5 訂定\n951031 修訂\n960509 修9 修訂\n980728 修8 修訂\n1020101 修訂\n1030206 修6 修訂\n1030523 修3 修訂\n1040904 修4 修訂\n1070326 修6 修訂\n1090101 修訂\n1120801修1修訂\n1130701修1修訂\n權責單位：人力資源部\n第-條(目(目的及依據)\n為使本公司員工出差作業有所依循，特訂定本要點。\n第二條範(範條(範圍)\n本公司員工因公出差時，除另有規定外，悉依本要點之規定辦理。\n第三條(出差申請程序)\n員工因公需要出差時，應事先填具出差申請單，詳填出差預定日程，經該單位主管核簽並依 分層負責表規定呈主管核准後始得出差，並依員工出勤管理要點相關規定辦理。\n第四條(雜宿費標準)\n員工出差之雜費、宿費悉依附件標準支給之。\n第五條(其他限制) 員工出差除單程旅程達 100 公里以上得申請宿費外，應以當天返回任所為原則；交通費按本\n要點規定支給。\n第六條(其他費用)\n公差人員交際應酬費用除呈奉准由公司開支之部份外，-概自理。\n第七條費(費條(費用核銷)\n員工公差完畢應即返回任所銷差，並於七日內於國內出差費用核銷系統提出費用申請，並檢 附相關收據，報請費用核銷。\n第八條(修(修訂及施行)\n本要點之訂定、修正或廢止應經總經理同意。\n本要點自訂定日起生效施行，修正或廢止時亦同。\n附件：國內出差雜、宿、交通費標準\n第八條(修(修訂及施行)\n附件：國內出差雜、宿、交通費標準\n總經理以上, 全日雜費 = 檢據實支. 總經理以上, 宿費 = 檢據實支. 總經理以上, 交通費 = 檢據實支. 高階主管, 全日雜費 = 檢據實支. 高階主管, 宿費 = 檢據實支. 高階主管, 交通費 = 檢據實支. 部室主管及相當職級, 全日雜費 = 每日 300 元. 部室主管及相當職級, 宿費 = 元核支交通費。. 部室主管及相當職級, 交通費 = 1. 以飛機經濟艙、高鐵  標準車廂或自強號之. 科主管及相當職級, 全日雜費 = 每日 300 元. 科主管及相當職級, 宿費 = 元核支交通費。. 科主管及相當職級, 交通費 = 價格為上限。  2. 如自行開�'}
17:07:54,781 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:07:54,784 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:07:54,841 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:07:54,845 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:07:54,895 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:07:54,899 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:07:54,903 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:07:54,956 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:07:54,961 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:07:54,964 graphrag.utils.storage INFO reading table from storage: communities.parquet
17:07:54,976 graphrag.index.operations.summarize_communities.graph_context.context_builder INFO Number of nodes at level=0 => 6
17:07:55,665 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:07:55,665 openai._base_client INFO Retrying request to /chat/completions in 3.142000 seconds
17:08:16,612 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:08:22,625 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:08:22,703 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:08:22,707 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:08:22,710 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:08:22,714 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:08:22,718 graphrag.utils.storage INFO reading table from storage: community_reports.parquet
17:08:22,724 graphrag.index.workflows.generate_text_embeddings INFO Creating embeddings
17:08:22,724 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding entity.description: default-entity-description
17:08:22,771 graphrag.index.operations.embed_text.strategies.openai INFO embedding 21 inputs via 21 snippets using 2 batches. max_batch_size=16, max_tokens=8191
17:08:24,694 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:24,698 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:25,294 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding community.full_content: default-community-full_content
17:08:25,297 graphrag.index.operations.embed_text.strategies.openai INFO embedding 2 inputs via 2 snippets using 1 batches. max_batch_size=16, max_tokens=8191
17:08:26,319 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:26,587 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding text_unit.text: default-text_unit-text
17:08:26,607 graphrag.index.operations.embed_text.strategies.openai INFO embedding 17 inputs via 17 snippets using 3 batches. max_batch_size=16, max_tokens=8191
17:08:27,133 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:27,157 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:27,602 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:08:27,853 graphrag.cli.index INFO All workflows completed successfully.
17:10:10,501 graphrag.cli.index INFO Logging enabled at /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/logs/indexing-engine.log
17:10:11,981 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:12,833 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:10:12,841 graphrag.cli.index INFO Starting pipeline run. dry_run=False
17:10:12,844 graphrag.cli.index INFO Using default configuration: {
    "root_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest",
    "models": {
        "default_chat_model": {
            "api_key": "==== REDACTED ====",
            "auth_type": "api_key",
            "type": "openai_chat",
            "model": "gpt-4-turbo-preview",
            "encoding_model": "cl100k_base",
            "max_tokens": 4000,
            "temperature": 0,
            "top_p": 1,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": null,
            "api_version": null,
            "deployment_name": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": true,
            "tokens_per_minute": 0,
            "requests_per_minute": 0,
            "retry_strategy": "native",
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "concurrent_requests": 25,
            "responses": null,
            "async_mode": "threaded"
        },
        "default_embedding_model": {
            "api_key": "==== REDACTED ====",
            "auth_type": "api_key",
            "type": "openai_embedding",
            "model": "text-embedding-3-small",
            "encoding_model": "cl100k_base",
            "max_tokens": 4000,
            "temperature": 0,
            "top_p": 1,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": null,
            "api_version": null,
            "deployment_name": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": true,
            "tokens_per_minute": 0,
            "requests_per_minute": 0,
            "retry_strategy": "native",
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "concurrent_requests": 25,
            "responses": null,
            "async_mode": "threaded"
        }
    },
    "reporting": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/logs",
        "storage_account_blob_url": null
    },
    "output": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "outputs": null,
    "update_index_output": {
        "type": "file",
        "base_dir": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/update_output",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "cache": {
        "type": "file",
        "base_dir": "cache",
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "input": {
        "type": "file",
        "file_type": "text",
        "base_dir": "input",
        "storage_account_blob_url": null,
        "encoding": "utf-8",
        "file_pattern": ".*\\.txt$",
        "file_filter": null,
        "text_column": "text",
        "title_column": null,
        "metadata": null
    },
    "embed_graph": {
        "enabled": false,
        "dimensions": 1536,
        "num_walks": 10,
        "walk_length": 40,
        "window_size": 2,
        "iterations": 3,
        "random_seed": 597832,
        "use_lcc": true
    },
    "embed_text": {
        "batch_size": 16,
        "batch_max_tokens": 8191,
        "target": "required",
        "names": [],
        "strategy": null,
        "model_id": "default_embedding_model",
        "vector_store_id": "default_vector_store"
    },
    "chunks": {
        "size": 1200,
        "overlap": 100,
        "group_by_columns": [
            "id"
        ],
        "strategy": "tokens",
        "encoding_model": "cl100k_base",
        "prepend_metadata": false,
        "chunk_size_includes_metadata": false
    },
    "snapshots": {
        "embeddings": false,
        "graphml": false
    },
    "extract_graph": {
        "prompt": "prompts/extract_graph.txt",
        "entity_types": [
            "organization",
            "person",
            "geo",
            "event"
        ],
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "extract_graph_nlp": {
        "normalize_edge_weights": true,
        "text_analyzer": {
            "extractor_type": "regex_english",
            "model_name": "en_core_web_md",
            "max_word_length": 15,
            "word_delimiter": " ",
            "include_named_entities": true,
            "exclude_nouns": null,
            "exclude_entity_tags": [
                "DATE"
            ],
            "exclude_pos_tags": [
                "DET",
                "PRON",
                "INTJ",
                "X"
            ],
            "noun_phrase_tags": [
                "PROPN",
                "NOUNS"
            ],
            "noun_phrase_grammars": {
                "PROPN,PROPN": "PROPN",
                "NOUN,NOUN": "NOUNS",
                "NOUNS,NOUN": "NOUNS",
                "ADJ,ADJ": "ADJ",
                "ADJ,NOUN": "NOUNS"
            }
        },
        "concurrent_requests": 25
    },
    "summarize_descriptions": {
        "prompt": "prompts/summarize_descriptions.txt",
        "max_length": 500,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "community_reports": {
        "graph_prompt": "prompts/community_report_graph.txt",
        "text_prompt": "prompts/community_report_text.txt",
        "max_length": 2000,
        "max_input_length": 8000,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "extract_claims": {
        "enabled": false,
        "prompt": "prompts/extract_claims.txt",
        "description": "Any claims or facts that could be relevant to information discovery.",
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "prune_graph": {
        "min_node_freq": 2,
        "max_node_freq_std": null,
        "min_node_degree": 1,
        "max_node_degree_std": null,
        "min_edge_weight_pct": 40,
        "remove_ego_nodes": false,
        "lcc_only": false
    },
    "cluster_graph": {
        "max_cluster_size": 10,
        "use_lcc": true,
        "seed": 3735928559
    },
    "umap": {
        "enabled": false
    },
    "local_search": {
        "prompt": "prompts/local_search_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "text_unit_prop": 0.5,
        "community_prop": 0.15,
        "conversation_history_max_turns": 5,
        "top_k_entities": 10,
        "top_k_relationships": 10,
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "llm_max_tokens": 2000
    },
    "global_search": {
        "map_prompt": "prompts/global_search_map_system_prompt.txt",
        "reduce_prompt": "prompts/global_search_reduce_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "knowledge_prompt": "prompts/global_search_knowledge_system_prompt.txt",
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "map_max_tokens": 1000,
        "reduce_max_tokens": 2000,
        "concurrency": 32,
        "dynamic_search_llm": "gpt-4o-mini",
        "dynamic_search_threshold": 1,
        "dynamic_search_keep_parent": false,
        "dynamic_search_num_repeats": 1,
        "dynamic_search_use_summary": false,
        "dynamic_search_concurrent_coroutines": 16,
        "dynamic_search_max_level": 2
    },
    "drift_search": {
        "prompt": "prompts/drift_search_system_prompt.txt",
        "reduce_prompt": "prompts/drift_search_reduce_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "reduce_max_tokens": 2000,
        "reduce_temperature": 0,
        "concurrency": 32,
        "drift_k_followups": 20,
        "primer_folds": 5,
        "primer_llm_max_tokens": 12000,
        "n_depth": 3,
        "local_search_text_unit_prop": 0.9,
        "local_search_community_prop": 0.1,
        "local_search_top_k_mapped_entities": 10,
        "local_search_top_k_relationships": 10,
        "local_search_max_data_tokens": 12000,
        "local_search_temperature": 0,
        "local_search_top_p": 1,
        "local_search_n": 1,
        "local_search_llm_max_gen_tokens": 4096
    },
    "basic_search": {
        "prompt": "prompts/basic_search_system_prompt.txt",
        "chat_model_id": "default_chat_model",
        "embedding_model_id": "default_embedding_model",
        "text_unit_prop": 0.5,
        "conversation_history_max_turns": 5,
        "temperature": 0,
        "top_p": 1,
        "n": 1,
        "max_tokens": 12000,
        "llm_max_tokens": 2000
    },
    "vector_store": {
        "default_vector_store": {
            "type": "lancedb",
            "db_uri": "/Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output/lancedb",
            "url": null,
            "audience": null,
            "container_name": "==== REDACTED ====",
            "database_name": null,
            "overwrite": true
        }
    },
    "workflows": null
}
17:10:12,845 graphrag.storage.file_pipeline_storage INFO Creating file storage at /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/output
17:10:12,846 graphrag.index.input.factory INFO loading input from root_dir=input
17:10:12,846 graphrag.index.input.factory INFO using file storage for input
17:10:12,848 graphrag.storage.file_pipeline_storage INFO search /Users/yoyo/cathay-GraphRAG-withOAI/ragtest/input for files matching .*\.txt$
17:10:12,855 graphrag.index.input.util INFO Found 2 InputFileType.text files, loading 2
17:10:12,856 graphrag.index.input.util INFO Total number of unfiltered InputFileType.text rows: 2
17:10:12,860 graphrag.index.run.run_pipeline INFO Final # of rows loaded: 2
17:10:12,873 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:10:12,927 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:10:12,930 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:10:12,957 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:10:16,857 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:16,863 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:17,377 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:20,563 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:22,777 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,724 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,743 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,764 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,793 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,813 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,814 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:25,838 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:32,139 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:47,205 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:50,61 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:10:59,361 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:09,403 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:09,878 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:27,460 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:29,667 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:37,10 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:40,500 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:40,504 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:40,505 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:41,537 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:41,882 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:42,193 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:42,595 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:42,598 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:42,747 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:43,937 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:44,160 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:44,163 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:47,18 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:48,371 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:52,110 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:53,265 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:53,393 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:53,629 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:53,631 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:53,858 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:56,79 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:11:56,146 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:11:56,150 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:11:56,201 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:11:56,206 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:11:56,290 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:11:56,293 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:11:56,297 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:11:56,352 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:11:56,356 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:11:56,360 graphrag.utils.storage INFO reading table from storage: communities.parquet
17:11:56,370 graphrag.index.operations.summarize_communities.graph_context.context_builder INFO Number of nodes at level=2 => 12
17:11:56,392 graphrag.index.operations.summarize_communities.graph_context.context_builder INFO Number of nodes at level=1 => 83
17:11:56,480 graphrag.index.operations.summarize_communities.graph_context.context_builder INFO Number of nodes at level=0 => 90
17:12:18,945 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:24,522 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:25,40 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,41 openai._base_client INFO Retrying request to /chat/completions in 0.058000 seconds
17:12:25,306 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,306 openai._base_client INFO Retrying request to /chat/completions in 4.136000 seconds
17:12:25,311 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,312 openai._base_client INFO Retrying request to /chat/completions in 5.318000 seconds
17:12:25,332 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,332 openai._base_client INFO Retrying request to /chat/completions in 4.062000 seconds
17:12:25,566 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,567 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,568 openai._base_client INFO Retrying request to /chat/completions in 4.093000 seconds
17:12:25,568 openai._base_client INFO Retrying request to /chat/completions in 4.778000 seconds
17:12:25,568 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,569 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,569 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,569 openai._base_client INFO Retrying request to /chat/completions in 4.408000 seconds
17:12:25,570 openai._base_client INFO Retrying request to /chat/completions in 4.498000 seconds
17:12:25,570 openai._base_client INFO Retrying request to /chat/completions in 4.334000 seconds
17:12:25,815 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:25,816 openai._base_client INFO Retrying request to /chat/completions in 4.330000 seconds
17:12:30,7 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:30,8 openai._base_client INFO Retrying request to /chat/completions in 3.636000 seconds
17:12:30,8 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:30,9 openai._base_client INFO Retrying request to /chat/completions in 3.582000 seconds
17:12:30,478 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:30,479 openai._base_client INFO Retrying request to /chat/completions in 3.698000 seconds
17:12:30,479 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:30,480 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:30,480 openai._base_client INFO Retrying request to /chat/completions in 3.898000 seconds
17:12:30,481 openai._base_client INFO Retrying request to /chat/completions in 3.706000 seconds
17:12:31,4 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:31,4 openai._base_client INFO Retrying request to /chat/completions in 3.730000 seconds
17:12:31,5 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:31,5 openai._base_client INFO Retrying request to /chat/completions in 3.610000 seconds
17:12:31,522 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:31,522 openai._base_client INFO Retrying request to /chat/completions in 3.596000 seconds
17:12:33,953 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:33,954 openai._base_client INFO Retrying request to /chat/completions in 3.894000 seconds
17:12:34,474 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:34,474 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:34,475 openai._base_client INFO Retrying request to /chat/completions in 3.726000 seconds
17:12:34,476 openai._base_client INFO Retrying request to /chat/completions in 3.630000 seconds
17:12:34,693 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:34,694 openai._base_client INFO Retrying request to /chat/completions in 3.478000 seconds
17:12:34,998 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:35,0 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:35,1 openai._base_client INFO Retrying request to /chat/completions in 3.598000 seconds
17:12:35,2 openai._base_client INFO Retrying request to /chat/completions in 3.578000 seconds
17:12:35,338 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:35,338 openai._base_client INFO Retrying request to /chat/completions in 3.606000 seconds
17:12:38,356 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:38,357 openai._base_client INFO Retrying request to /chat/completions in 3.908000 seconds
17:12:38,407 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:38,408 openai._base_client INFO Retrying request to /chat/completions in 3.941000 seconds
17:12:38,468 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:38,469 openai._base_client INFO Retrying request to /chat/completions in 3.876000 seconds
17:12:38,921 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:38,922 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:38,922 openai._base_client INFO Retrying request to /chat/completions in 3.746000 seconds
17:12:38,923 openai._base_client INFO Retrying request to /chat/completions in 3.851000 seconds
17:12:39,214 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:39,214 openai._base_client INFO Retrying request to /chat/completions in 3.922000 seconds
17:12:43,55 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:43,57 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:43,58 openai._base_client INFO Retrying request to /chat/completions in 4.077000 seconds
17:12:43,59 openai._base_client INFO Retrying request to /chat/completions in 4.082000 seconds
17:12:43,586 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:43,588 openai._base_client INFO Retrying request to /chat/completions in 3.938000 seconds
17:12:43,589 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:43,591 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:43,592 openai._base_client INFO Retrying request to /chat/completions in 4.278000 seconds
17:12:43,593 openai._base_client INFO Retrying request to /chat/completions in 3.838000 seconds
17:12:45,563 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:46,256 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:47,585 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:47,587 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:47,588 openai._base_client INFO Retrying request to /chat/completions in 0.474000 seconds
17:12:47,589 openai._base_client INFO Retrying request to /chat/completions in 0.496000 seconds
17:12:47,826 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:47,828 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:47,830 openai._base_client INFO Retrying request to /chat/completions in 0.478000 seconds
17:12:47,831 openai._base_client INFO Retrying request to /chat/completions in 0.336000 seconds
17:12:48,141 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:48,143 openai._base_client INFO Retrying request to /chat/completions in 0.558000 seconds
17:12:48,343 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:48,345 openai._base_client INFO Retrying request to /chat/completions in 4.134000 seconds
17:12:48,479 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:48,482 openai._base_client INFO Retrying request to /chat/completions in 4.270000 seconds
17:12:48,676 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:48,678 openai._base_client INFO Retrying request to /chat/completions in 4.206000 seconds
17:12:48,760 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:48,959 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:48,961 openai._base_client INFO Retrying request to /chat/completions in 5.370000 seconds
17:12:49,457 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:49,861 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:50,16 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:50,475 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:52,730 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:52,732 openai._base_client INFO Retrying request to /chat/completions in 4.580000 seconds
17:12:53,53 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:53,55 openai._base_client INFO Retrying request to /chat/completions in 4.862000 seconds
17:12:53,108 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:53,111 openai._base_client INFO Retrying request to /chat/completions in 4.992000 seconds
17:12:54,163 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:54,164 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:12:55,117 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:55,120 openai._base_client INFO Retrying request to /chat/completions in 5.370000 seconds
17:12:57,569 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:57,571 openai._base_client INFO Retrying request to /chat/completions in 1.898000 seconds
17:12:58,880 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:58,883 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:12:58,883 openai._base_client INFO Retrying request to /chat/completions in 1.472000 seconds
17:12:58,884 openai._base_client INFO Retrying request to /chat/completions in 1.536000 seconds
17:13:00,401 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:00,875 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:00,878 openai._base_client INFO Retrying request to /chat/completions in 4.580000 seconds
17:13:00,880 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:00,880 openai._base_client INFO Retrying request to /chat/completions in 4.634000 seconds
17:13:01,204 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:01,205 openai._base_client INFO Retrying request to /chat/completions in 4.546000 seconds
17:13:05,928 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:05,938 graphrag.index.operations.summarize_communities.community_reports_extractor ERROR error generating community report
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 77, in invoke
    return await this.invoke_json(delegate, prompt, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 96, in invoke_json
    return await self.try_receive_json(delegate, prompt, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 112, in try_receive_json
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 29679, Requested 2496. Please try again in 4.35s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/summarize_communities/community_reports_extractor.py", line 80, in __call__
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 148, in __call__
    await self._events.on_error(
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/events.py", line 26, in on_error
    self._on_error(error, traceback, arguments)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/utils.py", line 45, in on_error
    callbacks.error("Error Invoking LLM", error, stack, details)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/callbacks/workflow_callbacks_manager.py", line 64, in error
    callback.error(message, cause, stack, details)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/callbacks/file_workflow_callbacks.py", line 37, in error
    json.dumps(
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 202, in encode
    chunks = list(chunks)
             ^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 439, in _iterencode
    o = _default(o)
        ^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ModelMetaclass is not JSON serializable
17:13:05,947 graphrag.callbacks.file_workflow_callbacks INFO Community Report Extraction Error details=None
17:13:05,947 graphrag.index.operations.summarize_communities.strategies WARNING No report found for community: 20.0
17:13:05,972 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:05,973 openai._base_client INFO Retrying request to /chat/completions in 4.558000 seconds
17:13:07,266 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:11,170 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:11,176 graphrag.index.operations.summarize_communities.community_reports_extractor ERROR error generating community report
Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 144, in __call__
    return await self._decorated_target(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 77, in invoke
    return await this.invoke_json(delegate, prompt, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 96, in invoke_json
    return await self.try_receive_json(delegate, prompt, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/json.py", line 112, in try_receive_json
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/cached.py", line 137, in invoke
    result = await delegate(prompt, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/services/rate_limiter.py", line 75, in invoke
    result = await delegate(prompt, **args)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 126, in _decorator_target
    output = await self._execute_llm(prompt, kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_text_chat_llm.py", line 166, in _execute_llm
    completion = await self._client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 2000, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1767, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1461, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1547, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1594, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/openai/_base_client.py", line 1562, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4-turbo-preview in organization org-TQbuPAJsQMlXaCFopjrEEqLn on tokens per min (TPM): Limit 30000, Used 27473, Requested 2685. Please try again in 316ms. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/index/operations/summarize_communities/community_reports_extractor.py", line 80, in __call__
    response = await self._model.achat(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/models.py", line 81, in achat
    response = await self.model(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/llm/openai_chat_llm.py", line 94, in __call__
    return await self._text_chat_llm(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/openai/services/openai_tools_parsing.py", line 130, in __call__
    return await self._delegate(prompt, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/fnllm/base/base_llm.py", line 148, in __call__
    await self._events.on_error(
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/events.py", line 26, in on_error
    self._on_error(error, traceback, arguments)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/language_model/providers/fnllm/utils.py", line 45, in on_error
    callbacks.error("Error Invoking LLM", error, stack, details)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/callbacks/workflow_callbacks_manager.py", line 64, in error
    callback.error(message, cause, stack, details)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/site-packages/graphrag/callbacks/file_workflow_callbacks.py", line 37, in error
    json.dumps(
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 202, in encode
    chunks = list(chunks)
             ^^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 439, in _iterencode
    o = _default(o)
        ^^^^^^^^^^^
  File "/Users/yoyo/opt/anaconda3/envs/cathay_graphrag2/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ModelMetaclass is not JSON serializable
17:13:11,187 graphrag.callbacks.file_workflow_callbacks INFO Community Report Extraction Error details=None
17:13:11,187 graphrag.index.operations.summarize_communities.strategies WARNING No report found for community: 15.0
17:13:14,341 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:20,280 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:32,666 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:33,185 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:33,187 openai._base_client INFO Retrying request to /chat/completions in 5.316000 seconds
17:13:33,444 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:33,444 openai._base_client INFO Retrying request to /chat/completions in 2.800000 seconds
17:13:33,705 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:33,706 openai._base_client INFO Retrying request to /chat/completions in 3.474000 seconds
17:13:37,449 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:37,450 openai._base_client INFO Retrying request to /chat/completions in 3.956000 seconds
17:13:38,975 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:38,977 openai._base_client INFO Retrying request to /chat/completions in 3.968000 seconds
17:13:43,856 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
17:13:43,857 openai._base_client INFO Retrying request to /chat/completions in 4.276000 seconds
17:13:56,833 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:58,544 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:13:59,58 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:14:00,115 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:14:03,161 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:14:06,270 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:14:15,742 httpx INFO HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
17:14:15,851 graphrag.utils.storage INFO reading table from storage: documents.parquet
17:14:15,855 graphrag.utils.storage INFO reading table from storage: relationships.parquet
17:14:15,859 graphrag.utils.storage INFO reading table from storage: text_units.parquet
17:14:15,862 graphrag.utils.storage INFO reading table from storage: entities.parquet
17:14:15,866 graphrag.utils.storage INFO reading table from storage: community_reports.parquet
17:14:15,875 graphrag.index.workflows.generate_text_embeddings INFO Creating embeddings
17:14:15,875 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding community.full_content: default-community-full_content
17:14:16,144 graphrag.index.operations.embed_text.strategies.openai INFO embedding 23 inputs via 23 snippets using 2 batches. max_batch_size=16, max_tokens=8191
17:14:17,219 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:17,452 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:17,925 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding entity.description: default-entity-description
17:14:17,931 graphrag.index.operations.embed_text.strategies.openai INFO embedding 104 inputs via 104 snippets using 7 batches. max_batch_size=16, max_tokens=8191
17:14:18,975 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:18,979 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:18,982 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:18,985 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:18,988 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:19,84 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:19,308 httpx INFO HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
17:14:19,883 graphrag.index.operations.embed_text.embed_text INFO using vector store lancedb with container_name default for embedding text_unit.text: default-text_unit-text
17:14:19,901 graphrag.index.operations.embed_text.strategies.openai INFO embedding 17 inputs via 17 snippets using 3 batches. max_batch_size=16, max_tokens=8191
17:14:20,11 graphrag.cli.index INFO All workflows completed successfully.
